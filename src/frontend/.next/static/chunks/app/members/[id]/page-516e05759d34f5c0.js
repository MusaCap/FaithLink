(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{2190:function(e,t,s){Promise.resolve().then(s.bind(s,7574))},9763:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{color:c="currentColor",size:l=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:m="",children:h,...u}=s;return(0,a.createElement)("svg",{ref:i,...r,width:l,height:l,stroke:c,strokeWidth:o?24*Number(d)/Number(l):d,className:["lucide","lucide-".concat(n(e)),m].join(" "),...u},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(h)?h:[h]])});return s.displayName="".concat(e),s}},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},8997:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9345:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4630:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},3041:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},2720:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},8930:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},7574:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(7437),r=s(2265),n=s(9376),i=s(7648),c=s(2660),l=s(2369),d=s(4630),o=s(8930),m=s(9345),h=s(3041),u=s(1047),x=s(3774),g=s(8997),p=s(2720),y=s(2850);function f(e){var t,s,f,b,j,v,N,w,k,S,M,A,C,E,Z,T,R,D,P,q;let{params:O}=e,z=(0,n.useRouter)(),[J,L]=(0,r.useState)(null),[W,I]=(0,r.useState)(!0),[_,B]=(0,r.useState)(null);(0,r.useEffect)(()=>{H()},[O.id]);let H=async()=>{try{I(!0),B(null);let e=await y.H.getMember(O.id);L(e)}catch(e){B(e instanceof Error?e.message:"Failed to load member")}finally{I(!1)}},U=async()=>{if(J&&confirm("Are you sure you want to delete ".concat(J.firstName," ").concat(J.lastName,"?")))try{await y.H.deleteMember(J.id),z.push("/members")}catch(e){B(e instanceof Error?e.message:"Failed to delete member")}},V=e=>e?new Date(e).toLocaleDateString():"Not specified";return W?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading member..."})]})}):_?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[(0,a.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,a.jsx)("strong",{children:"Error:"})," ",_]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:H,className:"btn btn-secondary btn-sm",children:"Try Again"}),(0,a.jsx)(i.default,{href:"/members",className:"btn btn-primary btn-sm",children:"Back to Members"})]})]})}):J?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)(i.default,{href:"/members",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[(0,a.jsx)(c.Z,{size:16,className:"mr-1"}),"Back to Members"]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[J.profilePhoto?(0,a.jsx)("img",{src:J.profilePhoto,alt:"".concat(J.firstName," ").concat(J.lastName),className:"h-16 w-16 rounded-full object-cover"}):(0,a.jsx)("div",{className:"h-16 w-16 rounded-full bg-gray-300 flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"h-8 w-8 text-gray-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[J.firstName," ",J.lastName]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";case"visitor":return"bg-blue-100 text-blue-800"}})(J.membershipStatus)),children:J.membershipStatus}),(0,a.jsxs)("span",{className:"text-gray-500 text-sm",children:["Member since ",V(J.joinDate)]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(i.default,{href:"/members/".concat(J.id,"/edit"),className:"btn btn-secondary btn-sm",children:[(0,a.jsx)(d.Z,{size:16,className:"mr-2"}),"Edit"]}),(0,a.jsxs)("button",{onClick:U,className:"btn btn-secondary btn-sm text-red-600 hover:text-red-800 hover:bg-red-50",children:[(0,a.jsx)(o.Z,{size:16,className:"mr-2"}),"Delete"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[J.email&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{size:16,className:"text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Email"}),(0,a.jsx)("p",{className:"text-gray-900",children:J.email})]})]}),J.phone&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.Z,{size:16,className:"text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Phone"}),(0,a.jsx)("p",{className:"text-gray-900",children:J.phone})]})]}),J.dateOfBirth&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{size:16,className:"text-gray-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Date of Birth"}),(0,a.jsx)("p",{className:"text-gray-900",children:V(J.dateOfBirth)})]})]}),((null===(t=J.address)||void 0===t?void 0:t.street)||(null===(s=J.address)||void 0===s?void 0:s.city))&&(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(x.Z,{size:16,className:"text-gray-400 mr-3 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Address"}),(0,a.jsxs)("div",{className:"text-gray-900",children:[(null===(f=J.address)||void 0===f?void 0:f.street)&&(0,a.jsx)("p",{children:J.address.street}),((null===(b=J.address)||void 0===b?void 0:b.city)||(null===(j=J.address)||void 0===j?void 0:j.state)||(null===(v=J.address)||void 0===v?void 0:v.zipCode))&&(0,a.jsxs)("p",{children:[null===(N=J.address)||void 0===N?void 0:N.city,(null===(w=J.address)||void 0===w?void 0:w.city)&&(null===(k=J.address)||void 0===k?void 0:k.state)&&", ",null===(S=J.address)||void 0===S?void 0:S.state," ",null===(M=J.address)||void 0===M?void 0:M.zipCode]})]})]})]})]})]}),(null===(A=J.emergencyContact)||void 0===A?void 0:A.name)&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Emergency Contact"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:J.emergencyContact.name}),J.emergencyContact.relationship&&(0,a.jsx)("p",{className:"text-gray-600",children:J.emergencyContact.relationship}),J.emergencyContact.phone&&(0,a.jsx)("p",{className:"text-gray-900",children:J.emergencyContact.phone}),J.emergencyContact.email&&(0,a.jsx)("p",{className:"text-gray-900",children:J.emergencyContact.email})]})]}),((null===(C=J.spiritualJourney)||void 0===C?void 0:C.currentStage)||(null===(E=J.spiritualJourney)||void 0===E?void 0:E.salvationDate)||(null===(Z=J.spiritualJourney)||void 0===Z?void 0:Z.baptismDate))&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(g.Z,{size:20,className:"mr-2 text-red-500"}),"Spiritual Journey"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(null===(T=J.spiritualJourney)||void 0===T?void 0:T.currentStage)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Current Stage"}),(0,a.jsx)("p",{className:"text-gray-900 capitalize",children:J.spiritualJourney.currentStage.replace("-"," ")})]}),(null===(R=J.spiritualJourney)||void 0===R?void 0:R.salvationDate)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Salvation Date"}),(0,a.jsx)("p",{className:"text-gray-900",children:V(J.spiritualJourney.salvationDate)})]}),(null===(D=J.spiritualJourney)||void 0===D?void 0:D.baptismDate)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Baptism Date"}),(0,a.jsx)("p",{className:"text-gray-900",children:V(J.spiritualJourney.baptismDate)})]}),(null===(P=J.spiritualJourney)||void 0===P?void 0:P.notes)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Notes"}),(0,a.jsx)("p",{className:"text-gray-900",children:J.spiritualJourney.notes})]})]})]}),J.notes&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes"}),(0,a.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:J.notes})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[J.tags&&J.tags.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(p.Z,{size:18,className:"mr-2"}),"Tags"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:J.tags.map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:e},t))})]}),J.preferences&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Preferences"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Communication"}),(0,a.jsx)("p",{className:"text-gray-900 capitalize",children:null===(q=J.preferences.communicationMethod)||void 0===q?void 0:q.replace("-"," ")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Privacy Level"}),(0,a.jsx)("p",{className:"text-gray-900 capitalize",children:J.preferences.privacyLevel})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Newsletter"}),(0,a.jsx)("p",{className:"text-gray-900",children:J.preferences.newsletter?"Subscribed":"Not subscribed"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Event Notifications"}),(0,a.jsx)("p",{className:"text-gray-900",children:J.preferences.eventNotifications?"Enabled":"Disabled"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Member Info"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Member ID"}),(0,a.jsx)("p",{className:"text-gray-900 font-mono",children:J.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Created"}),(0,a.jsx)("p",{className:"text-gray-900",children:V(J.createdAt)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Last Updated"}),(0,a.jsx)("p",{className:"text-gray-900",children:V(J.updatedAt)})]})]})]})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Member not found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"The member you're looking for doesn't exist."}),(0,a.jsx)(i.default,{href:"/members",className:"btn btn-primary",children:"Back to Members"})]})})}},2850:function(e,t,s){"use strict";s.d(t,{H:function(){return n}});let a="https://faithlink360-api.onrender.com";class r{async fetchWithAuth(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=localStorage.getItem("auth_token"),a=e.startsWith("http")?e:"http://localhost:8000".concat(e),r=0;for(;r<=this.MAX_RETRIES;)try{let e=await fetch(a,{...t,headers:{"Content-Type":"application/json",...s&&{Authorization:"Bearer ".concat(s)},...t.headers}});if(!e.ok){if(401===e.status){localStorage.removeItem("auth_token"),window.location.href="/login";return}let t=await e.json().catch(()=>({message:e.statusText}));throw Error(t.message||"HTTP ".concat(e.status,": ").concat(e.statusText))}return e.json()}catch(e){if(r<this.MAX_RETRIES&&e.message.includes("fetch")){r++,await new Promise(e=>setTimeout(e,1e3*r));continue}throw e}}getCacheKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(e,"-").concat(JSON.stringify(t.body||{}))}isValidCache(e){let t=this.requestCache.get(e);return!!t&&Date.now()-t.timestamp<this.CACHE_DURATION}async getMembers(e){let t=new URLSearchParams;if(e){var s,a,r;e.query&&t.append("query",e.query),(null===(s=e.tags)||void 0===s?void 0:s.length)&&t.append("tags",e.tags.join(",")),(null===(a=e.membershipStatus)||void 0===a?void 0:a.length)&&t.append("status",e.membershipStatus.join(",")),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.limit&&t.append("limit",e.limit.toString()),e.offset&&t.append("offset",e.offset.toString()),e.ageRange&&(e.ageRange.min&&t.append("ageMin",e.ageRange.min.toString()),e.ageRange.max&&t.append("ageMax",e.ageRange.max.toString())),e.joinDateRange&&(e.joinDateRange.start&&t.append("joinStart",e.joinDateRange.start.toISOString()),e.joinDateRange.end&&t.append("joinEnd",e.joinDateRange.end.toISOString())),(null===(r=e.groups)||void 0===r?void 0:r.length)&&t.append("groups",e.groups.join(","))}let n="/api/members".concat(t.toString()?"?".concat(t.toString()):""),i=this.getCacheKey(n);if(this.isValidCache(i))return this.requestCache.get(i).data;if(this.pendingRequests.has(i))return this.pendingRequests.get(i);let c=this.fetchWithAuth(n).then(e=>(this.requestCache.set(i,{data:e,timestamp:Date.now()}),this.pendingRequests.delete(i),e)).catch(e=>{throw this.pendingRequests.delete(i),e});return this.pendingRequests.set(i,c),c}async getMember(e){return this.fetchWithAuth("/api/members/".concat(e))}async createMember(e){return this.fetchWithAuth("/api/members",{method:"POST",body:JSON.stringify(e)})}async updateMember(e){return this.fetchWithAuth("/api/members/".concat(e.id),{method:"PUT",body:JSON.stringify(e)})}async deleteMember(e){await this.fetchWithAuth("/api/members/".concat(e),{method:"DELETE"})}async getMemberStats(){return this.fetchWithAuth("/api/members/stats")}async getTags(){return this.fetchWithAuth("/api/members/tags")}async createTag(e){return this.fetchWithAuth("/api/members/tags",{method:"POST",body:JSON.stringify(e)})}async updateTag(e,t){return this.fetchWithAuth("/api/members/tags/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteTag(e){await this.fetchWithAuth("/api/members/tags/".concat(e),{method:"DELETE"})}async uploadProfilePhoto(e,t){let s=localStorage.getItem("auth_token"),r=new FormData;r.append("photo",t);let n=await fetch("".concat(a,"/api/members/").concat(e,"/photo"),{method:"POST",headers:{...s&&{Authorization:"Bearer ".concat(s)}},body:r});if(!n.ok)throw Error((await n.json().catch(()=>({message:n.statusText}))).message||"HTTP ".concat(n.status,": ").concat(n.statusText));return n.json()}async getSearchSuggestions(e){return this.fetchWithAuth("/api/members/search/suggestions?q=".concat(encodeURIComponent(e)))}async exportMembers(e){let t=new URLSearchParams;if(e){var s,r;e.query&&t.append("query",e.query),(null===(s=e.tags)||void 0===s?void 0:s.length)&&t.append("tags",e.tags.join(",")),(null===(r=e.membershipStatus)||void 0===r?void 0:r.length)&&t.append("status",e.membershipStatus.join(","))}let n=localStorage.getItem("auth_token"),i=await fetch("".concat(a,"/api/members/export").concat(t.toString()?"?".concat(t.toString()):""),{headers:{...n&&{Authorization:"Bearer ".concat(n)}}});if(!i.ok)throw Error("Export failed: ".concat(i.statusText));return i.blob()}async bulkUpdateMembers(e,t){return this.fetchWithAuth("/api/members/bulk",{method:"PUT",body:JSON.stringify({memberIds:e,updates:t})})}async bulkDeleteMembers(e){return this.fetchWithAuth("/api/members/bulk",{method:"DELETE",body:JSON.stringify({memberIds:e})})}constructor(){this.requestCache=new Map,this.pendingRequests=new Map,this.CACHE_DURATION=3e4,this.MAX_RETRIES=2}}let n=new r}},function(e){e.O(0,[7648,2971,2117,1744],function(){return e(e.s=2190)}),_N_E=e.O()}]);