(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2586],{4906:function(e,t,r){Promise.resolve().then(r.bind(r,7813))},9763:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{color:l="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:u,className:d="",children:h,...m}=r;return(0,s.createElement)("svg",{ref:i,...a,width:c,height:c,stroke:l,strokeWidth:u?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(n(e)),d].join(" "),...m},[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(h)?h:[h]])});return r.displayName="".concat(e),r}},6221:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},1769:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1723:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},740:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},8997:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9637:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},5863:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7692:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3774:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8293:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},3417:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8728:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8896:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},9663:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},7806:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5805:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},7813:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var s=r(7437),a=r(2265),n=r(3002),i=r(8742),l=r(7648),c=r(9397),o=r(3247),u=r(740);let d=(0,r(9763).Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var h=r(5805),m=r(9663),p=r(1723),y=r(3774),x=r(1047),f=r(3417),g=r(3249),b=r(3430);function v(){let{user:e}=(0,g.a)(),[t,r]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),[v,j]=(0,a.useState)(null),[k,N]=(0,a.useState)(""),[w,S]=(0,a.useState)([]),[Z,A]=(0,a.useState)(!1),[M,C]=(0,a.useState)("name"),[T,E]=(0,a.useState)("asc"),[G,P]=(0,a.useState)(1),[O,W]=(0,a.useState)(0),[q,R]=(0,a.useState)({type:[],status:["active"],hasAvailableSpace:!1}),_=(0,a.useCallback)(async()=>{try{i(!0),j(null);let e={query:k,type:q.type.length>0?q.type:void 0,status:q.status.length>0?q.status:void 0,hasAvailableSpace:q.hasAvailableSpace||void 0,sortBy:M,sortOrder:T,limit:20,offset:(G-1)*20},t=await b.P.getGroups(e);r(t.groups),W(t.total)}catch(e){j(e instanceof Error?e.message:"Failed to load groups")}finally{i(!1)}},[k,q,M,T,G]);(0,a.useEffect)(()=>{_()},[k,q,M,T,G]);let z=e=>{N(e),P(1)},H=(e,t)=>{R(r=>({...r,[e]:t})),P(1)},I=(null==e?void 0:e.role)==="admin"||(null==e?void 0:e.role)==="pastor",U=I||(null==e?void 0:e.role)==="group_leader",L=e=>({small_group:"Small Group",ministry:"Ministry",youth:"Youth",seniors:"Seniors",womens:"Women's",mens:"Men's",children:"Children's",worship:"Worship",service:"Service",bible_study:"Bible Study",prayer:"Prayer",outreach:"Outreach",other:"Other"})[e],B=e=>{if(!e||!e.frequency)return"No schedule set";let t=void 0!==e.dayOfWeek?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.dayOfWeek]:"",r=e.time||"";return"".concat(e.frequency," ").concat(t," ").concat(r).trim()};return n?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-neutral-900",children:"Groups"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-neutral-600",children:"Manage church groups, track attendance, and coordinate activities"})]}),I&&(0,s.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,s.jsxs)(l.default,{href:"/groups/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"New Group"]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-4 h-4"}),(0,s.jsx)("input",{type:"text",placeholder:"Search groups...",className:"w-full pl-10 pr-4 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:k,onChange:e=>z(e.target.value)})]})}),(0,s.jsxs)("button",{onClick:()=>A(!Z),className:"inline-flex items-center px-4 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Filters"]})]}),Z&&(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-neutral-200",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Group Type"}),(0,s.jsxs)("select",{multiple:!0,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:q.type,onChange:e=>H("type",Array.from(e.target.selectedOptions,e=>e.value)),children:[(0,s.jsx)("option",{value:"small_group",children:"Small Group"}),(0,s.jsx)("option",{value:"ministry",children:"Ministry"}),(0,s.jsx)("option",{value:"youth",children:"Youth"}),(0,s.jsx)("option",{value:"seniors",children:"Seniors"}),(0,s.jsx)("option",{value:"womens",children:"Women's"}),(0,s.jsx)("option",{value:"mens",children:"Men's"}),(0,s.jsx)("option",{value:"children",children:"Children's"}),(0,s.jsx)("option",{value:"worship",children:"Worship"}),(0,s.jsx)("option",{value:"service",children:"Service"}),(0,s.jsx)("option",{value:"bible_study",children:"Bible Study"}),(0,s.jsx)("option",{value:"prayer",children:"Prayer"}),(0,s.jsx)("option",{value:"outreach",children:"Outreach"}),(0,s.jsx)("option",{value:"other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Status"}),(0,s.jsxs)("select",{multiple:!0,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:q.status,onChange:e=>H("status",Array.from(e.target.selectedOptions,e=>e.value)),children:[(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive"}),(0,s.jsx)("option",{value:"archived",children:"Archived"})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"rounded border-neutral-300 text-primary-600 focus:ring-primary-500",checked:q.hasAvailableSpace,onChange:e=>H("hasAvailableSpace",e.target.checked)}),(0,s.jsx)("span",{className:"ml-2 text-sm text-neutral-700",children:"Has available space"})]})})]})})]}),v&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,s.jsx)("div",{className:"text-sm text-red-700",children:v})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{var t;return(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-neutral-900 mb-1",children:(0,s.jsx)(l.default,{href:"/groups/".concat(e.id),className:"hover:text-primary-600",children:e.name})}),(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("small_group"===e.type?"bg-blue-100 text-blue-800":"ministry"===e.type?"bg-green-100 text-green-800":"youth"===e.type?"bg-purple-100 text-purple-800":"bg-neutral-100 text-neutral-800"),children:L(e.type)})]}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("button",{className:"text-neutral-400 hover:text-neutral-600",children:(0,s.jsx)(d,{className:"w-4 h-4"})})})]}),e.description&&(0,s.jsx)("p",{className:"text-sm text-neutral-600 mb-4 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-neutral-600",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),(null===(t=e.memberIds)||void 0===t?void 0:t.length)||0," members",e.maxMembers&&(0,s.jsxs)("span",{className:"text-neutral-400",children:[" / ",e.maxMembers," max"]})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-neutral-600",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Leader: ",e.leaderName]}),e.meetingSchedule&&(0,s.jsxs)("div",{className:"flex items-center text-sm text-neutral-600",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),B(e.meetingSchedule)]}),e.location&&(0,s.jsxs)("div",{className:"flex items-center text-sm text-neutral-600",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),e.location]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-neutral-100",children:[(0,s.jsx)("div",{className:"flex space-x-2",children:U&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.default,{href:"/groups/".concat(e.id,"/attendance"),className:"inline-flex items-center px-3 py-1 border border-neutral-300 rounded-md text-xs font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[(0,s.jsx)(x.Z,{className:"w-3 h-3 mr-1"}),"Attendance"]}),(0,s.jsxs)(l.default,{href:"/communications/group/".concat(e.id),className:"inline-flex items-center px-3 py-1 border border-neutral-300 rounded-md text-xs font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[(0,s.jsx)(f.Z,{className:"w-3 h-3 mr-1"}),"Message"]})]})}),(0,s.jsx)(l.default,{href:"/groups/".concat(e.id),className:"text-xs font-medium text-primary-600 hover:text-primary-700",children:"View Details â†’"})]})]})},e.id)})}),0===t.length&&!n&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(h.Z,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No groups found"}),(0,s.jsx)("p",{className:"text-neutral-600 mb-6",children:k?"Try adjusting your search criteria":"Get started by creating your first group"}),I&&!k&&(0,s.jsxs)(l.default,{href:"/groups/new",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Create Group"]})]}),O>20&&(0,s.jsxs)("div",{className:"flex items-center justify-between border-t border-neutral-200 bg-white px-4 py-3 sm:px-6",children:[(0,s.jsxs)("div",{className:"flex flex-1 justify-between sm:hidden",children:[(0,s.jsx)("button",{onClick:()=>P(e=>Math.max(e-1,1)),disabled:1===G,className:"relative inline-flex items-center px-4 py-2 border border-neutral-300 text-sm font-medium rounded-md text-neutral-700 bg-white hover:bg-neutral-50 disabled:opacity-50",children:"Previous"}),(0,s.jsx)("button",{onClick:()=>P(e=>e+1),disabled:20*G>=O,className:"relative ml-3 inline-flex items-center px-4 py-2 border border-neutral-300 text-sm font-medium rounded-md text-neutral-700 bg-white hover:bg-neutral-50 disabled:opacity-50",children:"Next"})]}),(0,s.jsxs)("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-sm text-neutral-700",children:["Showing ",(0,s.jsx)("span",{className:"font-medium",children:(G-1)*20+1})," to"," ",(0,s.jsx)("span",{className:"font-medium",children:Math.min(20*G,O)})," ","of ",(0,s.jsx)("span",{className:"font-medium",children:O})," results"]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,s.jsx)("button",{onClick:()=>P(e=>Math.max(e-1,1)),disabled:1===G,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-50 disabled:opacity-50",children:"Previous"}),(0,s.jsx)("button",{onClick:()=>P(e=>e+1),disabled:20*G>=O,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-50 disabled:opacity-50",children:"Next"})]})})]})]})]})}function j(){return(0,s.jsx)(n.Z,{children:(0,s.jsx)(i.Z,{children:(0,s.jsx)(v,{})})})}},3430:function(e,t,r){"use strict";r.d(t,{P:function(){return n}});let s="https://faithlink360-api.onrender.com";class a{async fetchWithAuth(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=localStorage.getItem("auth_token"),a={"Content-Type":"application/json",...r&&{Authorization:"Bearer ".concat(r)},...t.headers},n=0;for(;n<=this.MAX_RETRIES;)try{let r=await fetch("".concat(s).concat(e),{...t,headers:a});if(!r.ok){if(429===r.status&&n<this.MAX_RETRIES){await new Promise(e=>setTimeout(e,1e3*(n+1))),n++;continue}let e=await r.json().catch(()=>({message:r.statusText}));throw Error(e.message||"HTTP ".concat(r.status,": ").concat(r.statusText))}return r.json()}catch(e){if(n<this.MAX_RETRIES&&e.message.includes("fetch")){n++,await new Promise(e=>setTimeout(e,1e3*n));continue}throw e}}getCacheKey(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(e,"-").concat(JSON.stringify(t.body||{}))}isValidCache(e){let t=this.requestCache.get(e);return!!t&&Date.now()-t.timestamp<this.CACHE_DURATION}async getGroups(e){let t=new URLSearchParams;if(e){var r,s,a;e.query&&t.append("query",e.query),(null===(r=e.type)||void 0===r?void 0:r.length)&&t.append("type",e.type.join(",")),(null===(s=e.status)||void 0===s?void 0:s.length)&&t.append("status",e.status.join(",")),e.leaderId&&t.append("leaderId",e.leaderId),(null===(a=e.tags)||void 0===a?void 0:a.length)&&t.append("tags",e.tags.join(",")),void 0!==e.hasAvailableSpace&&t.append("hasAvailableSpace",e.hasAvailableSpace.toString()),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.limit&&t.append("limit",e.limit.toString()),e.offset&&t.append("offset",e.offset.toString())}let n="/api/groups".concat(t.toString()?"?".concat(t.toString()):""),i=this.getCacheKey(n);if(this.isValidCache(i))return this.requestCache.get(i).data;if(this.pendingRequests.has(i))return this.pendingRequests.get(i);let l=this.fetchWithAuth(n).then(e=>(this.requestCache.set(i,{data:e,timestamp:Date.now()}),this.pendingRequests.delete(i),e)).catch(e=>{throw this.pendingRequests.delete(i),e});return this.pendingRequests.set(i,l),l}async getGroup(e){return this.fetchWithAuth("/api/groups/".concat(e))}async createGroup(e){return this.fetchWithAuth("/api/groups",{method:"POST",body:JSON.stringify(e)})}async updateGroup(e){return this.fetchWithAuth("/api/groups/".concat(e.id),{method:"PUT",body:JSON.stringify(e)})}async deleteGroup(e){await this.fetchWithAuth("/api/groups/".concat(e),{method:"DELETE"})}async getGroupMembers(e){return(await this.fetchWithAuth("/api/groups/".concat(e,"/members"))).members||[]}async addGroupMember(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"member";return this.fetchWithAuth("/api/groups/".concat(e,"/members"),{method:"POST",body:JSON.stringify({memberId:t,role:r})})}async updateGroupMember(e,t,r){return this.fetchWithAuth("/api/groups/".concat(e,"/members/").concat(t),{method:"PUT",body:JSON.stringify(r)})}async removeGroupMember(e,t){await this.fetchWithAuth("/api/groups/".concat(e,"/members/").concat(t),{method:"DELETE"})}async getGroupAttendance(e,t,r){let s=new URLSearchParams;t&&s.append("startDate",t),r&&s.append("endDate",r);let a="/api/groups/".concat(e,"/attendance").concat(s.toString()?"?".concat(s.toString()):"");return this.fetchWithAuth(a)}async recordAttendance(e){return this.fetchWithAuth("/api/groups/".concat(e.groupId,"/attendance"),{method:"POST",body:JSON.stringify(e)})}async updateAttendance(e,t,r){return this.fetchWithAuth("/api/groups/".concat(e,"/attendance/").concat(t),{method:"PUT",body:JSON.stringify(r)})}async deleteAttendance(e,t){await this.fetchWithAuth("/api/groups/".concat(e,"/attendance/").concat(t),{method:"DELETE"})}async getGroupStats(){return this.fetchWithAuth("/api/groups/stats")}async getGroupAttendanceStats(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"month";return this.fetchWithAuth("/api/groups/".concat(e,"/stats/attendance?period=").concat(t))}async exportGroups(e){let t=new URLSearchParams;if(e){var r,a;e.query&&t.append("query",e.query),(null===(r=e.type)||void 0===r?void 0:r.length)&&t.append("type",e.type.join(",")),(null===(a=e.status)||void 0===a?void 0:a.length)&&t.append("status",e.status.join(","))}let n=localStorage.getItem("auth_token"),i=await fetch("".concat(s,"/api/groups/export").concat(t.toString()?"?".concat(t.toString()):""),{headers:{...n&&{Authorization:"Bearer ".concat(n)}}});if(!i.ok)throw Error("Export failed: ".concat(i.statusText));return i.blob()}async bulkUpdateGroups(e,t){return this.fetchWithAuth("/api/groups/bulk",{method:"PUT",body:JSON.stringify({groupIds:e,updates:t})})}async bulkDeleteGroups(e){return this.fetchWithAuth("/api/groups/bulk",{method:"DELETE",body:JSON.stringify({groupIds:e})})}async getGroupTypes(){return[{value:"small_group",label:"Small Group",description:"Intimate fellowship and Bible study groups"},{value:"ministry",label:"Ministry Team",description:"Service-focused ministry groups"},{value:"youth",label:"Youth Group",description:"Teen and young adult groups"},{value:"seniors",label:"Seniors Group",description:"Groups for older adults"},{value:"womens",label:"Women's Group",description:"Women's fellowship and study groups"},{value:"mens",label:"Men's Group",description:"Men's fellowship and study groups"},{value:"children",label:"Children's Group",description:"Groups for children and families"},{value:"worship",label:"Worship Team",description:"Music and worship ministry teams"},{value:"service",label:"Service Team",description:"Community service and outreach teams"},{value:"bible_study",label:"Bible Study",description:"Scripture study and discussion groups"},{value:"prayer",label:"Prayer Group",description:"Prayer and intercession groups"},{value:"outreach",label:"Outreach Team",description:"Evangelism and community outreach"},{value:"other",label:"Other",description:"Custom group types"}]}constructor(){this.requestCache=new Map,this.pendingRequests=new Map,this.CACHE_DURATION=3e4,this.MAX_RETRIES=2}}let n=new a}},function(e){e.O(0,[7648,4429,2971,2117,1744],function(){return e(e.s=4906)}),_N_E=e.O()}]);