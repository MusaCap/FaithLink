(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9322],{8224:function(e,s,r){Promise.resolve().then(r.bind(r,8369))},9763:function(e,s,r){"use strict";r.d(s,{Z:function(){return n}});var t=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,s)=>{let r=(0,t.forwardRef)((r,n)=>{let{color:i="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=r;return(0,t.createElement)("svg",{ref:n,...a,width:o,height:o,stroke:i,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(l(e)),u].join(" "),...x},[...s.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},3639:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1047:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},5302:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1723:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8997:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9345:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3774:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2718:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},3417:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},3041:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9397:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3229:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},3247:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2369:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5805:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8369:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return C}});var t=r(7437),a=r(2265),l=r(5302),n=r(1723),i=r(3639),o=r(8997),c=r(9397),d=r(2718),u=r(2369),m=r(1047),x=r(3247),h=r(2489);let b=(0,r(9763).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var g=r(3229),p=e=>{let{onClose:s,onSubmit:r,initialData:l={}}=e,[n,c]=(0,a.useState)({title:l.title||"",description:l.description||"",priority:l.priority||"normal",category:l.category||"spiritual",isPrivate:l.isPrivate||!1,requestedBy:l.requestedBy||"",assignTo:l.assignTo||""}),[d,u]=(0,a.useState)({}),[m,x]=(0,a.useState)(!1),p=()=>{let e={};return n.title.trim()||(e.title="Title is required"),n.description.trim()||(e.description="Description is required"),n.requestedBy.trim()||(e.requestedBy="Requester name is required"),u(e),0===Object.keys(e).length},y=(e,s)=>{c(r=>({...r,[e]:s})),d[e]&&u(s=>({...s,[e]:""}))},f=async e=>{if(e.preventDefault(),p()){x(!0);try{await r(n)}catch(e){console.error("Failed to submit prayer request:",e)}finally{x(!1)}}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(o.Z,{className:"w-6 h-6 text-red-500"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:l.title?"Edit Prayer Request":"New Prayer Request"})]}),(0,t.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(h.Z,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:f,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Request Title *"}),(0,t.jsx)("input",{type:"text",value:n.title,onChange:e=>y("title",e.target.value),placeholder:"Brief title for the prayer request...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(d.title?"border-red-300 bg-red-50":"border-gray-300")}),d.title&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),d.title]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,t.jsx)("textarea",{value:n.description,onChange:e=>y("description",e.target.value),placeholder:"Provide details about the prayer request...",rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none ".concat(d.description?"border-red-300 bg-red-50":"border-gray-300")}),d.description&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),d.description]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),(0,t.jsxs)("select",{value:n.priority,onChange:e=>y("priority",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"low",children:"Low Priority"}),(0,t.jsx)("option",{value:"normal",children:"Normal Priority"}),(0,t.jsx)("option",{value:"high",children:"High Priority"}),(0,t.jsx)("option",{value:"urgent",children:"Urgent"})]}),(0,t.jsxs)("div",{className:"mt-2 px-2 py-1 text-xs font-medium border rounded ".concat((e=>{switch(e){case"urgent":return"text-red-600 border-red-300 bg-red-50";case"high":return"text-orange-600 border-orange-300 bg-orange-50";case"normal":return"text-blue-600 border-blue-300 bg-blue-50";default:return"text-gray-600 border-gray-300 bg-gray-50"}})(n.priority)),children:[n.priority.charAt(0).toUpperCase()+n.priority.slice(1)," Priority"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,t.jsxs)("select",{value:n.category,onChange:e=>y("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"spiritual",children:"Spiritual"}),(0,t.jsx)("option",{value:"health",children:"Health"}),(0,t.jsx)("option",{value:"family",children:"Family"}),(0,t.jsx)("option",{value:"work",children:"Work/Career"}),(0,t.jsx)("option",{value:"financial",children:"Financial"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested By *"}),(0,t.jsx)("input",{type:"text",value:n.requestedBy,onChange:e=>y("requestedBy",e.target.value),placeholder:"Name of person making request...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(d.requestedBy?"border-red-300 bg-red-50":"border-gray-300")}),d.requestedBy&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),d.requestedBy]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign To (Optional)"}),(0,t.jsx)("input",{type:"text",value:n.assignTo,onChange:e=>y("assignTo",e.target.value),placeholder:"Pastor or care team member...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.isPrivate,onChange:e=>y("isPrivate",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b,{className:"w-4 h-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Keep this request private"})]})]}),(0,t.jsx)("p",{className:"ml-7 mt-1 text-xs text-gray-500",children:"Private requests are only visible to pastoral staff and assigned care team members"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",disabled:m,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[m?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,t.jsx)(g.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:m?"Saving...":"Save Prayer Request"})]})]})]})]})})},y=r(3041),f=r(9345),j=r(3417),v=r(3774),N=()=>{let[e,s]=(0,a.useState)([]),[r,l]=(0,a.useState)([]),[i,d]=(0,a.useState)(!0),[m,h]=(0,a.useState)(!1),[b,g]=(0,a.useState)(null),[p,N]=(0,a.useState)(""),[w,k]=(0,a.useState)("all"),[C,S]=(0,a.useState)("all"),[Z,T]=(0,a.useState)("records");(0,a.useEffect)(()=>{q()},[]);let q=async()=>{try{let e=await fetch("/api/care/records");if(e.ok){let r=await e.json();s(r.records||[])}let r=await fetch("/api/care/members-needing-care");if(r.ok){let e=await r.json();l(e.members||[])}}catch(e){console.error("Failed to fetch care data:",e)}finally{d(!1)}},P=e.length>0?e:[{id:"1",memberId:"1",memberName:"Sarah Johnson",memberEmail:"sarah@email.com",memberPhone:"(555) 123-4567",careType:"hospital",subject:"Surgery Recovery Visit",notes:"Visited Sarah after her knee surgery. She is recovering well and appreciates the church support. Needs help with groceries for next 2 weeks.",careProvider:"Pastor Smith",careDate:"2025-01-14T14:00:00Z",nextFollowUp:"2025-01-21T10:00:00Z",priority:"high",status:"completed",tags:["surgery","recovery","elderly"]},{id:"2",memberId:"2",memberName:"Michael Chen",memberEmail:"michael@email.com",memberPhone:"(555) 987-6543",careType:"counseling",subject:"Marriage Counseling Session",notes:"Third session with Michael and Lisa. Making good progress on communication. Scheduled next appointment.",careProvider:"Pastor David",careDate:"2025-01-13T16:00:00Z",nextFollowUp:"2025-01-20T16:00:00Z",priority:"normal",status:"completed",tags:["marriage","counseling"]},{id:"3",memberId:"3",memberName:"Emily Rodriguez",memberEmail:"emily@email.com",memberPhone:"(555) 456-7890",careType:"call",subject:"Job Loss Support Call",notes:"Called Emily to check on her after recent job loss. Connected her with job search resources and financial assistance program.",careProvider:"Care Team Leader",careDate:"2025-01-12T10:30:00Z",priority:"high",status:"completed",tags:["job-loss","financial-help"]}],D=r.length>0?r:[{id:"4",name:"Robert Wilson",email:"robert@email.com",phone:"(555) 111-2222",address:"123 Oak St, City, State",lastContact:"2024-12-15T00:00:00Z",careNeeds:["elderly","homebound"],emergencyContact:"Jane Wilson (555) 111-2223"},{id:"5",name:"Maria Santos",email:"maria@email.com",phone:"(555) 333-4444",address:"456 Pine Ave, City, State",lastContact:"2025-01-05T00:00:00Z",careNeeds:["new-member","follow-up"],emergencyContact:"Carlos Santos (555) 333-4445"}],M=P.filter(e=>{let s=e.memberName.toLowerCase().includes(p.toLowerCase())||e.subject.toLowerCase().includes(p.toLowerCase())||e.notes.toLowerCase().includes(p.toLowerCase()),r="all"===w||e.careType===w,t="all"===C||e.status===C;return s&&r&&t}),E=e=>{switch(e){case"visit":default:return(0,t.jsx)(u.Z,{className:"w-4 h-4"});case"call":return(0,t.jsx)(y.Z,{className:"w-4 h-4"});case"email":return(0,t.jsx)(f.Z,{className:"w-4 h-4"});case"hospital":return(0,t.jsx)(o.Z,{className:"w-4 h-4"});case"counseling":return(0,t.jsx)(j.Z,{className:"w-4 h-4"});case"follow-up":return(0,t.jsx)(n.Z,{className:"w-4 h-4"})}},L=e=>{switch(e){case"hospital":return"text-red-600 bg-red-50 border-red-200";case"counseling":return"text-purple-600 bg-purple-50 border-purple-200";case"visit":return"text-blue-600 bg-blue-50 border-blue-200";case"call":return"text-green-600 bg-green-50 border-green-200";case"email":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},A=e=>{switch(e){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"normal":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,t.jsx)("button",{onClick:()=>T("records"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("records"===Z?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Care Records"}),(0,t.jsx)("button",{onClick:()=>T("members"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("members"===Z?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Members Needing Care"})]})})}),"records"===Z&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4 flex-1 max-w-lg",children:(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(x.Z,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search care records...",value:p,onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Care Types"}),(0,t.jsx)("option",{value:"visit",children:"Visits"}),(0,t.jsx)("option",{value:"call",children:"Phone Calls"}),(0,t.jsx)("option",{value:"email",children:"Emails"}),(0,t.jsx)("option",{value:"hospital",children:"Hospital"}),(0,t.jsx)("option",{value:"counseling",children:"Counseling"}),(0,t.jsx)("option",{value:"follow-up",children:"Follow-up"})]}),(0,t.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,t.jsxs)("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Add Care Record"})]})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow",children:i?(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading care records..."})]}):0===M.length?(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)(o.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No care records found"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):(0,t.jsx)("div",{className:"divide-y divide-gray-200",children:M.map(e=>(0,t.jsx)("div",{className:"p-6 hover:bg-gray-50",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.memberName}),(0,t.jsxs)("span",{className:"px-2 py-1 text-xs font-medium border rounded-full flex items-center space-x-1 ".concat(L(e.careType)),children:[E(e.careType),(0,t.jsx)("span",{className:"capitalize",children:e.careType})]}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium border rounded-full ".concat(A(e.priority)),children:e.priority})]}),(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:e.subject}),(0,t.jsx)("p",{className:"text-gray-700 mb-3",children:e.notes}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-2",children:[(0,t.jsxs)("span",{children:["Care by ",e.careProvider]}),(0,t.jsx)("span",{children:new Date(e.careDate).toLocaleDateString()}),e.nextFollowUp&&(0,t.jsxs)("span",{className:"text-blue-600",children:["Next follow-up: ",new Date(e.nextFollowUp).toLocaleDateString()]})]}),e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:e},s))})]}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"scheduled"===e.status?"bg-blue-100 text-blue-800":"in-progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})})]})},e.id))})})]}),"members"===Z&&(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Members Requiring Care Attention"}),0===D.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(u.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No members needing immediate care"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"All members are up to date with care visits"})]}):(0,t.jsx)("div",{className:"space-y-4",children:D.map(e=>(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:e.name}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:e.email})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(y.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:e.phone})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(v.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:e.address})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(n.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Last contact: ",new Date(e.lastContact).toLocaleDateString()]})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:e.careNeeds.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded",children:e},s))}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Emergency Contact: ",e.emergencyContact]})]}),(0,t.jsx)("button",{onClick:()=>g(e),className:"ml-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Schedule Care"})]})},e.id))})]})})})]})},w=r(5805),k=e=>{let{onClose:s,onSubmit:r,initialData:l={}}=e,[n,o]=(0,a.useState)({memberName:l.memberName||"",memberEmail:l.memberEmail||"",memberPhone:l.memberPhone||"",counselorName:l.counselorName||"Pastor Smith",sessionType:l.sessionType||"individual",sessionDate:l.sessionDate||"",sessionTime:l.sessionTime||"",duration:l.duration||60,location:l.location||"Pastor's Office",sessionTopic:l.sessionTopic||"",notes:l.notes||"",isRecurring:l.isRecurring||!1,recurringFrequency:l.recurringFrequency||"weekly",recurringCount:l.recurringCount||4,reminderEnabled:l.reminderEnabled||!0,reminderTime:l.reminderTime||24}),[c,d]=(0,a.useState)({}),[x,b]=(0,a.useState)(!1),p=()=>{let e={};return n.memberName.trim()||(e.memberName="Member name is required"),n.memberEmail.trim()?/\S+@\S+\.\S+/.test(n.memberEmail)||(e.memberEmail="Please enter a valid email address"):e.memberEmail="Member email is required",n.sessionDate||(e.sessionDate="Session date is required"),n.sessionTime||(e.sessionTime="Session time is required"),n.sessionTopic.trim()||(e.sessionTopic="Session topic is required"),n.sessionDate&&n.sessionTime&&new Date("".concat(n.sessionDate,"T").concat(n.sessionTime))<new Date&&(e.sessionDate="Session date and time cannot be in the past"),d(e),0===Object.keys(e).length},y=(e,s)=>{o(r=>({...r,[e]:s})),c[e]&&d(s=>({...s,[e]:""}))},f=async e=>{if(e.preventDefault(),p()){b(!0);try{await r(n)}catch(e){console.error("Failed to schedule counseling session:",e)}finally{b(!1)}}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(m.Z,{className:"w-6 h-6 text-blue-500"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Schedule Counseling Session"})]}),(0,t.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(h.Z,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:f,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Member Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Member Name *"}),(0,t.jsx)("input",{type:"text",value:n.memberName,onChange:e=>y("memberName",e.target.value),placeholder:"Enter member's full name...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(c.memberName?"border-red-300 bg-red-50":"border-gray-300")}),c.memberName&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),c.memberName]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",value:n.memberEmail,onChange:e=>y("memberEmail",e.target.value),placeholder:"member@email.com",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(c.memberEmail?"border-red-300 bg-red-50":"border-gray-300")}),c.memberEmail&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),c.memberEmail]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",value:n.memberPhone,onChange:e=>y("memberPhone",e.target.value),placeholder:"(555) 123-4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Type"}),(0,t.jsxs)("select",{value:n.sessionType,onChange:e=>y("sessionType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"individual",children:"Individual Counseling"}),(0,t.jsx)("option",{value:"couple",children:"Couple/Marriage Counseling"}),(0,t.jsx)("option",{value:"family",children:"Family Counseling"}),(0,t.jsx)("option",{value:"group",children:"Group Counseling"})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center space-x-2 text-sm text-gray-600",children:[(e=>{switch(e){case"individual":default:return(0,t.jsx)(u.Z,{className:"w-4 h-4"});case"couple":case"family":case"group":return(0,t.jsx)(w.Z,{className:"w-4 h-4"})}})(n.sessionType),(0,t.jsxs)("span",{className:"capitalize",children:[n.sessionType," Session"]})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Session Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Counselor"}),(0,t.jsx)("select",{value:n.counselorName,onChange:e=>y("counselorName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:["Pastor Smith","Pastor David","Dr. Sarah Wilson (Licensed Therapist)","Chaplain Michael Brown"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Topic *"}),(0,t.jsxs)("select",{value:n.sessionTopic,onChange:e=>y("sessionTopic",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(c.sessionTopic?"border-red-300 bg-red-50":"border-gray-300"),children:[(0,t.jsx)("option",{value:"",children:"Select topic..."}),["Marriage Counseling","Family Issues","Grief Counseling","Addiction Recovery","Depression/Anxiety","Spiritual Growth","Career/Life Decisions","Conflict Resolution","Parenting Issues","Financial Stress","Other"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),c.sessionTopic&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),c.sessionTopic]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Date *"}),(0,t.jsx)("input",{type:"date",value:n.sessionDate,onChange:e=>y("sessionDate",e.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(c.sessionDate?"border-red-300 bg-red-50":"border-gray-300")}),c.sessionDate&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),c.sessionDate]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Time *"}),(0,t.jsx)("input",{type:"time",value:n.sessionTime,onChange:e=>y("sessionTime",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(c.sessionTime?"border-red-300 bg-red-50":"border-gray-300")}),c.sessionTime&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(i.Z,{className:"w-4 h-4 mr-1"}),c.sessionTime]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),(0,t.jsxs)("select",{value:n.duration,onChange:e=>y("duration",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:30,children:"30 minutes"}),(0,t.jsx)("option",{value:45,children:"45 minutes"}),(0,t.jsx)("option",{value:60,children:"1 hour"}),(0,t.jsx)("option",{value:90,children:"1.5 hours"}),(0,t.jsx)("option",{value:120,children:"2 hours"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,t.jsx)("select",{value:n.location,onChange:e=>y("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:["Pastor's Office","Counseling Room A","Counseling Room B","Conference Room","Virtual (Zoom)","Member's Home","Other Location"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Notes (Optional)"}),(0,t.jsx)("textarea",{value:n.notes,onChange:e=>y("notes",e.target.value),placeholder:"Any additional notes or special requirements for the session...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recurring Sessions"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.isRecurring,onChange:e=>y("isRecurring",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Schedule recurring sessions"})]}),n.isRecurring&&(0,t.jsxs)("div",{className:"ml-7 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),(0,t.jsxs)("select",{value:n.recurringFrequency,onChange:e=>y("recurringFrequency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"weekly",children:"Weekly"}),(0,t.jsx)("option",{value:"biweekly",children:"Every 2 weeks"}),(0,t.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Sessions"}),(0,t.jsx)("select",{value:n.recurringCount,onChange:e=>y("recurringCount",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[2,3,4,5,6,7,8,10,12].map(e=>(0,t.jsxs)("option",{value:e,children:[e," sessions"]},e))})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reminders"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.reminderEnabled,onChange:e=>y("reminderEnabled",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Send email reminder"})]}),n.reminderEnabled&&(0,t.jsxs)("div",{className:"ml-7",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Send reminder"}),(0,t.jsxs)("select",{value:n.reminderTime,onChange:e=>y("reminderTime",parseInt(e.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:1,children:"1 hour before"}),(0,t.jsx)("option",{value:2,children:"2 hours before"}),(0,t.jsx)("option",{value:24,children:"1 day before"}),(0,t.jsx)("option",{value:48,children:"2 days before"}),(0,t.jsx)("option",{value:168,children:"1 week before"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",disabled:x,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[x?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,t.jsx)(g.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:x?"Scheduling...":n.isRecurring?"Schedule Sessions":"Schedule Session"})]})]})]})]})})};function C(){let[e,s]=(0,a.useState)("prayer-requests"),[r,h]=(0,a.useState)([]),[b,g]=(0,a.useState)([]),[y,f]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[w,C]=(0,a.useState)(""),[S,Z]=(0,a.useState)("all"),[T,q]=(0,a.useState)("all"),[P,D]=(0,a.useState)(!0),[M,E]=(0,a.useState)(null);(0,a.useEffect)(()=>{L(),A()},[]);let L=async()=>{try{let e=await fetch("http://localhost:8000/api/care/prayer-requests",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("auth_token")),"Content-Type":"application/json"}});if(e.ok){let s=await e.json();h(s.requests||[])}}catch(e){console.error("Error fetching prayer requests:",e)}finally{D(!1)}},A=async()=>{try{let e=await fetch("http://localhost:8000/api/care/counseling-sessions",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("auth_token")),"Content-Type":"application/json"}});if(e.ok){let s=await e.json();g(s.sessions||[])}}catch(e){console.error("Error fetching counseling sessions:",e)}},R=r.filter(e=>{let s=e.title.toLowerCase().includes(w.toLowerCase())||e.description.toLowerCase().includes(w.toLowerCase()),r="all"===S||e.category===S,t="all"===T||e.status===T;return s&&r&&t}),z=e=>{switch(e){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"normal":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},F=e=>{switch(e){case"answered":return(0,t.jsx)(l.Z,{className:"w-4 h-4 text-green-600"});case"ongoing":return(0,t.jsx)(n.Z,{className:"w-4 h-4 text-yellow-600"});default:return(0,t.jsx)(i.Z,{className:"w-4 h-4 text-blue-600"})}};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(o.Z,{className:"w-8 h-8 text-red-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Pastoral Care"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Managing prayer requests, member care, and counseling"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:["prayer-requests"===e&&(0,t.jsxs)("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Add Prayer Request"})]}),"counseling"===e&&(0,t.jsxs)("button",{onClick:()=>v(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,t.jsx)(c.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Schedule Session"})]})]})]}),(0,t.jsx)("div",{className:"mt-6 border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,t.jsxs)("button",{onClick:()=>s("prayer-requests"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("prayer-requests"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 inline mr-2"}),"Prayer Requests"]}),(0,t.jsxs)("button",{onClick:()=>s("member-care"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("member-care"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 inline mr-2"}),"Member Care"]}),(0,t.jsxs)("button",{onClick:()=>s("counseling"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("counseling"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 inline mr-2"}),"Counseling"]})]})})]}),"prayer-requests"===e&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4 flex-1 max-w-lg",children:(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(x.Z,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search prayer requests...",value:w,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("select",{value:S,onChange:e=>Z(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Categories"}),(0,t.jsx)("option",{value:"health",children:"Health"}),(0,t.jsx)("option",{value:"family",children:"Family"}),(0,t.jsx)("option",{value:"work",children:"Work"}),(0,t.jsx)("option",{value:"spiritual",children:"Spiritual"}),(0,t.jsx)("option",{value:"financial",children:"Financial"}),(0,t.jsx)("option",{value:"other",children:"Other"})]}),(0,t.jsxs)("select",{value:T,onChange:e=>q(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"ongoing",children:"Ongoing"}),(0,t.jsx)("option",{value:"answered",children:"Answered"})]})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow",children:P?(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading prayer requests..."})]}):0===R.length?(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)(d.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No prayer requests found"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):(0,t.jsx)("div",{className:"divide-y divide-gray-200",children:R.map(e=>(0,t.jsxs)("div",{className:"p-6 hover:bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium border rounded-full ".concat(z(e.priority)),children:e.priority}),(0,t.jsx)("span",{className:"text-sm text-gray-500 capitalize",children:e.category}),e.isPrivate&&(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium text-purple-600 bg-purple-50 border border-purple-200 rounded-full",children:"Private"})]}),(0,t.jsx)("p",{className:"text-gray-700 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:["Requested by ",e.requestedBy]}),(0,t.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()}),e.assignedTo&&(0,t.jsxs)("span",{children:["Assigned to ",e.assignedTo]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[F(e.status),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:e.status})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>E(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"}),(0,t.jsx)("span",{className:"text-gray-300",children:"|"}),(0,t.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Add Update"}),(0,t.jsx)("span",{className:"text-gray-300",children:"|"}),(0,t.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Assign"})]})]},e.id))})})]}),"member-care"===e&&(0,t.jsx)(N,{}),"counseling"===e&&(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Counseling Sessions"}),0===b.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(m.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No counseling sessions scheduled"}),(0,t.jsx)("button",{onClick:()=>v(!0),className:"mt-3 text-blue-600 hover:text-blue-800 font-medium",children:"Schedule your first session"})]}):(0,t.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:e.memberName}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.sessionType," session with ",e.counselorName]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.scheduledDate).toLocaleString()})]}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"scheduled"===e.status?"bg-blue-100 text-blue-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status})]})},e.id))})]})})}),y&&(0,t.jsx)(p,{onClose:()=>f(!1),onSubmit:e=>{console.log("New prayer request:",e),L(),f(!1)}}),j&&(0,t.jsx)(k,{onClose:()=>v(!1),onSubmit:e=>{console.log("New counseling session:",e),A(),v(!1)}})]})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=8224)}),_N_E=e.O()}]);