(()=>{var e={};e.id=722,e.ids=[722],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},472:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o}),s(6234),s(3817),s(5866);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),l=s(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["groups",{children:["[id]",{children:["attendance",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6234)),"C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\groups\\[id]\\attendance\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3817)),"C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\groups\\[id]\\attendance\\page.tsx"],u="/groups/[id]/attendance/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/groups/[id]/attendance/page",pathname:"/groups/[id]/attendance",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1251:(e,t,s)=>{Promise.resolve().then(s.bind(s,9146))},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6283:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},1137:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},9819:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},9146:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(326),r=s(7577),n=s(5047),i=s(6608),l=s(8122),d=s(434),o=s(8082),c=s(840),u=s(4349),h=s(1540),m=s(3855),p=s(7358),x=s(4061),g=s(7069),y=s(9819),f=s(1137),b=s(8307),j=s(8998),v=s(6283);function w({groupId:e}){let{user:t}=(0,o.a)(),[s,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(null),[w,N]=(0,r.useState)(""),[S,k]=(0,r.useState)(!0),[$,A]=(0,r.useState)(null),[T,E]=(0,r.useState)(1),[C,P]=(0,r.useState)(0),[_,G]=(0,r.useState)(!1),[q,O]=(0,r.useState)({groupId:e,limit:10,offset:0,sortBy:"date",sortOrder:"desc"}),R=async()=>{try{k(!0),A(null);let[t,s,a]=await Promise.all([u.P.getGroup(e),c.n.getAttendanceSessions({...q,offset:(T-1)*10}),c.n.getAttendanceStats(e)]);N(t.name),n(s.sessions),P(s.total),l(a)}catch(e){A(e instanceof Error?e.message:"Failed to load attendance data")}finally{k(!1)}},M=(e,t)=>{O(s=>({...s,[e]:t})),E(1)},D=async(e="csv")=>{try{let t=await c.n.exportAttendance(q,e),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`attendance-${w}-${new Date().toISOString().split("T")[0]}.${e}`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}catch(e){A(e instanceof Error?e.message:"Failed to export attendance data")}},Z=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),U=e=>e?new Date(`2000-01-01T${e}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"",L=e=>e.totalMembers>0?Math.round(e.presentCount/e.totalMembers*100):0,W=t?.role==="admin"||t?.role==="pastor"||i&&i.groupId===e,I=Math.ceil(C/10);return S?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[$&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"text-sm text-red-700",children:$})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Attendance History"}),a.jsx("p",{className:"mt-1 text-sm text-neutral-600",children:w})]}),W&&(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>D("csv"),className:"inline-flex items-center px-3 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[a.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),(0,a.jsxs)(d.default,{href:`/groups/${e}/attendance/new`,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Record Attendance"]})]})]})}),i&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Total Sessions"}),a.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:i.totalSessions})]}),a.jsx(p.Z,{className:"w-8 h-8 text-blue-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Average Attendance"}),a.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:Math.round(i.averageAttendance)})]}),a.jsx(x.Z,{className:"w-8 h-8 text-green-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Attendance Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-neutral-900",children:[Math.round(i.attendanceRate),"%"]})]}),a.jsx(g.Z,{className:"w-8 h-8 text-purple-600"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Active Members"}),a.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:i.memberStats.length})]}),a.jsx(y.Z,{className:"w-8 h-8 text-orange-600"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Filter Sessions"}),(0,a.jsxs)("button",{onClick:()=>G(!_),className:"inline-flex items-center px-3 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[a.jsx(f.Z,{className:"w-4 h-4 mr-2"}),_?"Hide Filters":"Show Filters"]})]}),_&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Start Date"}),a.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:q.startDate||"",onChange:e=>M("startDate",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"End Date"}),a.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:q.endDate||"",onChange:e=>M("endDate",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Sort By"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:q.sortBy||"date",onChange:e=>M("sortBy",e.target.value),children:[a.jsx("option",{value:"date",children:"Date"}),a.jsx("option",{value:"recordedAt",children:"Recorded At"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Sort Order"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",value:q.sortOrder||"desc",onChange:e=>M("sortOrder",e.target.value),children:[a.jsx("option",{value:"desc",children:"Newest First"}),a.jsx("option",{value:"asc",children:"Oldest First"})]})]}),a.jsx("div",{className:"md:col-span-4 flex justify-end",children:(0,a.jsxs)("button",{onClick:()=>{R()},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[a.jsx(b.Z,{className:"w-4 h-4 mr-2"}),"Apply Filters"]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200",children:[a.jsx("div",{className:"p-6 border-b border-neutral-200",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-neutral-900",children:["Attendance Sessions (",C," total)"]})}),a.jsx("div",{className:"divide-y divide-neutral-200",children:0===s.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[a.jsx(p.Z,{className:"w-12 h-12 text-neutral-400 mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No attendance records found"}),a.jsx("p",{className:"text-neutral-600 mb-4",children:"Start recording attendance to track group participation"}),W&&(0,a.jsxs)(d.default,{href:`/groups/${e}/attendance/new`,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Record First Session"]})]}):s.map(t=>(0,a.jsxs)("div",{className:"p-6 hover:bg-neutral-50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[a.jsx("h4",{className:"text-lg font-medium text-neutral-900",children:Z(t.date)}),t.topic&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.topic}),(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L(t)>=80?"bg-green-100 text-green-800":L(t)>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[L(t),"% attendance"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-neutral-600",children:[t.startTime&&(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(j.Z,{className:"w-4 h-4 mr-1"}),U(t.startTime),t.endTime&&` - ${U(t.endTime)}`]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(x.Z,{className:"w-4 h-4 mr-1"}),t.presentCount,"/",t.totalMembers," present"]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(y.Z,{className:"w-4 h-4 mr-1"}),"Recorded by ",t.recordedByName]})]}),t.notes&&(0,a.jsxs)("div",{className:"mt-2 flex items-start",children:[a.jsx(v.Z,{className:"w-4 h-4 mr-1 mt-0.5 text-neutral-400"}),a.jsx("p",{className:"text-sm text-neutral-600",children:t.notes})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(d.default,{href:`/groups/${e}/attendance/${t.id}`,className:"inline-flex items-center px-3 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:"View Details"})})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold text-green-600",children:t.presentCount}),a.jsx("div",{className:"text-xs text-neutral-500",children:"Present"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold text-red-600",children:t.absentCount}),a.jsx("div",{className:"text-xs text-neutral-500",children:"Absent"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold text-yellow-600",children:t.lateCount}),a.jsx("div",{className:"text-xs text-neutral-500",children:"Late"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-semibold text-blue-600",children:t.excusedCount}),a.jsx("div",{className:"text-xs text-neutral-500",children:"Excused"})]})]})]},t.id))}),I>1&&(0,a.jsxs)("div",{className:"px-6 py-4 border-t border-neutral-200 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-neutral-700",children:["Showing ",(T-1)*10+1," to ",Math.min(10*T,C)," of ",C," sessions"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>E(e=>Math.max(e-1,1)),disabled:1===T,className:"px-3 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>E(e=>Math.min(e+1,I)),disabled:T===I,className:"px-3 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50 disabled:opacity-50",children:"Next"})]})]})]})]})}function N(){let e=(0,n.useParams)().id;return a.jsx(i.Z,{requiredRole:"group_leader",children:a.jsx(l.Z,{children:a.jsx(w,{groupId:e})})})}},840:(e,t,s)=>{"use strict";s.d(t,{n:()=>l});let a="https://faithlink360-api.onrender.com",r=new Map,n=new Map;class i{async request(e,t={},s,i=3e4){if(s&&"GET"===t.method){let e=r.get(s);if(e&&Date.now()-e.timestamp<e.ttl)return e.data}let l=`${t.method||"GET"}_${e}_${JSON.stringify(t.body)}`;if(n.has(l))return n.get(l);let d=`${a}${e}`,o=localStorage.getItem("auth_token"),c={...t,headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...t.headers}},u=this.makeRequest(d,c,s,i);return n.set(l,u),u.finally(()=>{n.delete(l)}),u}async makeRequest(e,t,s,a=3e4){let n=Error("Unknown error occurred");for(let i=1;i<=3;i++)try{let n=await fetch(e,t);if(!n.ok){if(429===n.status){await new Promise(e=>setTimeout(e,1e3*i));continue}throw Error(`HTTP ${n.status}: ${n.statusText}`)}let l=await n.json();return s&&"GET"===t.method&&r.set(s,{data:l,timestamp:Date.now(),ttl:a}),l}catch(e){if(n=e instanceof Error?e:Error("Unknown error"),3===i)break;await new Promise(e=>setTimeout(e,1e3*i))}throw n}async getAttendanceSessions(e){let t=new URLSearchParams;Object.entries(e).forEach(([e,s])=>{null!=s&&""!==s&&t.append(e,String(s))});let s=`attendance_sessions_${t.toString()}`;return this.request(`/api/attendance?${t.toString()}`,{method:"GET"},s)}async getAttendanceSession(e){let t=`attendance_session_${e}`;return this.request(`/api/attendance/${e}`,{method:"GET"},t)}async createAttendanceSession(e){let t=await this.request("/api/attendance",{method:"POST",body:JSON.stringify(e)});return this.invalidateGroupCache(e.groupId),t}async updateAttendanceSession(e){let t=await this.request(`/api/attendance/${e.id}`,{method:"PUT",body:JSON.stringify(e)});return r.delete(`attendance_session_${e.id}`),t}async deleteAttendanceSession(e){await this.request(`/api/attendance/${e}`,{method:"DELETE"}),r.delete(`attendance_session_${e}`),this.invalidateAllGroupCaches()}async getAttendanceStats(e,t,s){let a=new URLSearchParams({groupId:e});t&&a.append("startDate",t),s&&a.append("endDate",s);let r=`attendance_stats_${a.toString()}`;return this.request(`/api/attendance/stats?${a.toString()}`,{method:"GET"},r,6e4)}async exportAttendance(e,t="csv"){let s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&s.append(e,String(t))}),s.append("format",t);let r=await fetch(`${a}/api/attendance/export?${s.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!r.ok)throw Error(`Export failed: ${r.statusText}`);return r.blob()}async bulkUpdateAttendance(e,t){let s=await this.request(`/api/attendance/${e}/bulk-update`,{method:"POST",body:JSON.stringify({updates:t})});return r.delete(`attendance_session_${e}`),s}invalidateGroupCache(e){for(let[t]of r)(t.includes(`groupId=${e}`)||t.includes(`group_${e}`))&&r.delete(t)}invalidateAllGroupCaches(){for(let[e]of r)e.includes("attendance_")&&r.delete(e)}clearCache(){r.clear(),n.clear()}}let l=new i},4349:(e,t,s)=>{"use strict";s.d(t,{P:()=>n});let a="https://faithlink360-api.onrender.com";class r{async fetchWithAuth(e,t={}){let s=localStorage.getItem("auth_token"),r={"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`},...t.headers},n=0;for(;n<=this.MAX_RETRIES;)try{let s=await fetch(`${a}${e}`,{...t,headers:r});if(!s.ok){if(429===s.status&&n<this.MAX_RETRIES){await new Promise(e=>setTimeout(e,1e3*(n+1))),n++;continue}let e=await s.json().catch(()=>({message:s.statusText}));throw Error(e.message||`HTTP ${s.status}: ${s.statusText}`)}return s.json()}catch(e){if(n<this.MAX_RETRIES&&e.message.includes("fetch")){n++,await new Promise(e=>setTimeout(e,1e3*n));continue}throw e}}getCacheKey(e,t={}){return`${e}-${JSON.stringify(t.body||{})}`}isValidCache(e){let t=this.requestCache.get(e);return!!t&&Date.now()-t.timestamp<this.CACHE_DURATION}async getGroups(e){let t=new URLSearchParams;e&&(e.query&&t.append("query",e.query),e.type?.length&&t.append("type",e.type.join(",")),e.status?.length&&t.append("status",e.status.join(",")),e.leaderId&&t.append("leaderId",e.leaderId),e.tags?.length&&t.append("tags",e.tags.join(",")),void 0!==e.hasAvailableSpace&&t.append("hasAvailableSpace",e.hasAvailableSpace.toString()),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.limit&&t.append("limit",e.limit.toString()),e.offset&&t.append("offset",e.offset.toString()));let s=`/api/groups${t.toString()?`?${t.toString()}`:""}`,a=this.getCacheKey(s);if(this.isValidCache(a))return this.requestCache.get(a).data;if(this.pendingRequests.has(a))return this.pendingRequests.get(a);let r=this.fetchWithAuth(s).then(e=>(this.requestCache.set(a,{data:e,timestamp:Date.now()}),this.pendingRequests.delete(a),e)).catch(e=>{throw this.pendingRequests.delete(a),e});return this.pendingRequests.set(a,r),r}async getGroup(e){return this.fetchWithAuth(`/api/groups/${e}`)}async createGroup(e){return this.fetchWithAuth("/api/groups",{method:"POST",body:JSON.stringify(e)})}async updateGroup(e){return this.fetchWithAuth(`/api/groups/${e.id}`,{method:"PUT",body:JSON.stringify(e)})}async deleteGroup(e){await this.fetchWithAuth(`/api/groups/${e}`,{method:"DELETE"})}async getGroupMembers(e){return(await this.fetchWithAuth(`/api/groups/${e}/members`)).members||[]}async addGroupMember(e,t,s="member"){return this.fetchWithAuth(`/api/groups/${e}/members`,{method:"POST",body:JSON.stringify({memberId:t,role:s})})}async updateGroupMember(e,t,s){return this.fetchWithAuth(`/api/groups/${e}/members/${t}`,{method:"PUT",body:JSON.stringify(s)})}async removeGroupMember(e,t){await this.fetchWithAuth(`/api/groups/${e}/members/${t}`,{method:"DELETE"})}async getGroupAttendance(e,t,s){let a=new URLSearchParams;t&&a.append("startDate",t),s&&a.append("endDate",s);let r=`/api/groups/${e}/attendance${a.toString()?`?${a.toString()}`:""}`;return this.fetchWithAuth(r)}async recordAttendance(e){return this.fetchWithAuth(`/api/groups/${e.groupId}/attendance`,{method:"POST",body:JSON.stringify(e)})}async updateAttendance(e,t,s){return this.fetchWithAuth(`/api/groups/${e}/attendance/${t}`,{method:"PUT",body:JSON.stringify(s)})}async deleteAttendance(e,t){await this.fetchWithAuth(`/api/groups/${e}/attendance/${t}`,{method:"DELETE"})}async getGroupStats(){return this.fetchWithAuth("/api/groups/stats")}async getGroupAttendanceStats(e,t="month"){return this.fetchWithAuth(`/api/groups/${e}/stats/attendance?period=${t}`)}async exportGroups(e){let t=new URLSearchParams;e&&(e.query&&t.append("query",e.query),e.type?.length&&t.append("type",e.type.join(",")),e.status?.length&&t.append("status",e.status.join(",")));let s=localStorage.getItem("auth_token"),r=await fetch(`${a}/api/groups/export${t.toString()?`?${t.toString()}`:""}`,{headers:{...s&&{Authorization:`Bearer ${s}`}}});if(!r.ok)throw Error(`Export failed: ${r.statusText}`);return r.blob()}async bulkUpdateGroups(e,t){return this.fetchWithAuth("/api/groups/bulk",{method:"PUT",body:JSON.stringify({groupIds:e,updates:t})})}async bulkDeleteGroups(e){return this.fetchWithAuth("/api/groups/bulk",{method:"DELETE",body:JSON.stringify({groupIds:e})})}async getGroupTypes(){return[{value:"small_group",label:"Small Group",description:"Intimate fellowship and Bible study groups"},{value:"ministry",label:"Ministry Team",description:"Service-focused ministry groups"},{value:"youth",label:"Youth Group",description:"Teen and young adult groups"},{value:"seniors",label:"Seniors Group",description:"Groups for older adults"},{value:"womens",label:"Women's Group",description:"Women's fellowship and study groups"},{value:"mens",label:"Men's Group",description:"Men's fellowship and study groups"},{value:"children",label:"Children's Group",description:"Groups for children and families"},{value:"worship",label:"Worship Team",description:"Music and worship ministry teams"},{value:"service",label:"Service Team",description:"Community service and outreach teams"},{value:"bible_study",label:"Bible Study",description:"Scripture study and discussion groups"},{value:"prayer",label:"Prayer Group",description:"Prayer and intercession groups"},{value:"outreach",label:"Outreach Team",description:"Evangelism and community outreach"},{value:"other",label:"Other",description:"Custom group types"}]}constructor(){this.requestCache=new Map,this.pendingRequests=new Map,this.CACHE_DURATION=3e4,this.MAX_RETRIES=2}}let n=new r},6234:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\allen\Downloads\FaithLink-main\FaithLink-main\src\frontend\src\app\groups\[id]\attendance\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[935,434,748],()=>s(472));module.exports=a})();