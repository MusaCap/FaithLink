(()=>{var e={};e.id=322,e.ids=[322],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1012:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(5038),r(3817),r(5866);var t=r(3191),a=r(8716),l=r(7922),i=r.n(l),n=r(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(s,o);let c=["",{children:["care",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5038)),"C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\care\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3817)),"C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\care\\page.tsx"],u="/care/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/care/page",pathname:"/care",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6702:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5931:(e,s,r)=>{Promise.resolve().then(r.bind(r,8082))},1670:(e,s,r)=>{Promise.resolve().then(r.bind(r,2549))},6557:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});var t=r(7577),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,s)=>{let r=(0,t.forwardRef)(({color:r="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:d,...u},m)=>(0,t.createElement)("svg",{ref:m,...a,width:i,height:i,stroke:r,strokeWidth:o?24*Number(n)/Number(i):n,className:["lucide",`lucide-${l(e)}`,c].join(" "),...u},[...s.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r}},7202:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7358:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},4659:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8998:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7427:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},5932:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7636:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9730:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},617:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},2887:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},3855:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1215:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8307:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9635:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4061:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},4019:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2549:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>C});var t=r(326),a=r(7577),l=r(4659),i=r(8998),n=r(7202),o=r(7427),c=r(3855),d=r(9730),u=r(9635),m=r(7358),x=r(8307),h=r(4019);let g=(0,r(6557).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var p=r(1215);let b=({onClose:e,onSubmit:s,initialData:r={}})=>{let[l,i]=(0,a.useState)({title:r.title||"",description:r.description||"",priority:r.priority||"normal",category:r.category||"spiritual",isPrivate:r.isPrivate||!1,requestedBy:r.requestedBy||"",assignTo:r.assignTo||""}),[c,d]=(0,a.useState)({}),[u,m]=(0,a.useState)(!1),x=()=>{let e={};return l.title.trim()||(e.title="Title is required"),l.description.trim()||(e.description="Description is required"),l.requestedBy.trim()||(e.requestedBy="Requester name is required"),d(e),0===Object.keys(e).length},b=(e,s)=>{i(r=>({...r,[e]:s})),c[e]&&d(s=>({...s,[e]:""}))},y=async e=>{if(e.preventDefault(),x()){m(!0);try{await s(l)}catch(e){console.error("Failed to submit prayer request:",e)}finally{m(!1)}}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(o.Z,{className:"w-6 h-6 text-red-500"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r.title?"Edit Prayer Request":"New Prayer Request"})]}),t.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(h.Z,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:y,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Request Title *"}),t.jsx("input",{type:"text",value:l.title,onChange:e=>b("title",e.target.value),placeholder:"Brief title for the prayer request...",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.title?"border-red-300 bg-red-50":"border-gray-300"}`}),c.title&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[t.jsx(n.Z,{className:"w-4 h-4 mr-1"}),c.title]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),t.jsx("textarea",{value:l.description,onChange:e=>b("description",e.target.value),placeholder:"Provide details about the prayer request...",rows:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none ${c.description?"border-red-300 bg-red-50":"border-gray-300"}`}),c.description&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[t.jsx(n.Z,{className:"w-4 h-4 mr-1"}),c.description]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),(0,t.jsxs)("select",{value:l.priority,onChange:e=>b("priority",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"low",children:"Low Priority"}),t.jsx("option",{value:"normal",children:"Normal Priority"}),t.jsx("option",{value:"high",children:"High Priority"}),t.jsx("option",{value:"urgent",children:"Urgent"})]}),(0,t.jsxs)("div",{className:`mt-2 px-2 py-1 text-xs font-medium border rounded ${(e=>{switch(e){case"urgent":return"text-red-600 border-red-300 bg-red-50";case"high":return"text-orange-600 border-orange-300 bg-orange-50";case"normal":return"text-blue-600 border-blue-300 bg-blue-50";default:return"text-gray-600 border-gray-300 bg-gray-50"}})(l.priority)}`,children:[l.priority.charAt(0).toUpperCase()+l.priority.slice(1)," Priority"]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,t.jsxs)("select",{value:l.category,onChange:e=>b("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"spiritual",children:"Spiritual"}),t.jsx("option",{value:"health",children:"Health"}),t.jsx("option",{value:"family",children:"Family"}),t.jsx("option",{value:"work",children:"Work/Career"}),t.jsx("option",{value:"financial",children:"Financial"}),t.jsx("option",{value:"other",children:"Other"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested By *"}),t.jsx("input",{type:"text",value:l.requestedBy,onChange:e=>b("requestedBy",e.target.value),placeholder:"Name of person making request...",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${c.requestedBy?"border-red-300 bg-red-50":"border-gray-300"}`}),c.requestedBy&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[t.jsx(n.Z,{className:"w-4 h-4 mr-1"}),c.requestedBy]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign To (Optional)"}),t.jsx("input",{type:"text",value:l.assignTo,onChange:e=>b("assignTo",e.target.value),placeholder:"Pastor or care team member...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",checked:l.isPrivate,onChange:e=>b("isPrivate",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(g,{className:"w-4 h-4 text-gray-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Keep this request private"})]})]}),t.jsx("p",{className:"ml-7 mt-1 text-xs text-gray-500",children:"Private requests are only visible to pastoral staff and assigned care team members"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[u?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):t.jsx(p.Z,{className:"w-4 h-4"}),t.jsx("span",{children:u?"Saving...":"Save Prayer Request"})]})]})]})]})})};var y=r(2887),f=r(5932),j=r(617),v=r(7636);let N=()=>{let[e,s]=(0,a.useState)([]),[r,l]=(0,a.useState)([]),[n,d]=(0,a.useState)(!0),[m,h]=(0,a.useState)(!1),[g,p]=(0,a.useState)(null),[b,N]=(0,a.useState)(""),[w,k]=(0,a.useState)("all"),[C,S]=(0,a.useState)("all"),[T,Z]=(0,a.useState)("records");(0,a.useEffect)(()=>{P()},[]);let P=async()=>{try{let e=await fetch("/api/care/records");if(e.ok){let r=await e.json();s(r.records||[])}let r=await fetch("/api/care/members-needing-care");if(r.ok){let e=await r.json();l(e.members||[])}}catch(e){console.error("Failed to fetch care data:",e)}finally{d(!1)}},L=e.length>0?e:[{id:"1",memberId:"1",memberName:"Sarah Johnson",memberEmail:"sarah@email.com",memberPhone:"(555) 123-4567",careType:"hospital",subject:"Surgery Recovery Visit",notes:"Visited Sarah after her knee surgery. She is recovering well and appreciates the church support. Needs help with groceries for next 2 weeks.",careProvider:"Pastor Smith",careDate:"2025-01-14T14:00:00Z",nextFollowUp:"2025-01-21T10:00:00Z",priority:"high",status:"completed",tags:["surgery","recovery","elderly"]},{id:"2",memberId:"2",memberName:"Michael Chen",memberEmail:"michael@email.com",memberPhone:"(555) 987-6543",careType:"counseling",subject:"Marriage Counseling Session",notes:"Third session with Michael and Lisa. Making good progress on communication. Scheduled next appointment.",careProvider:"Pastor David",careDate:"2025-01-13T16:00:00Z",nextFollowUp:"2025-01-20T16:00:00Z",priority:"normal",status:"completed",tags:["marriage","counseling"]},{id:"3",memberId:"3",memberName:"Emily Rodriguez",memberEmail:"emily@email.com",memberPhone:"(555) 456-7890",careType:"call",subject:"Job Loss Support Call",notes:"Called Emily to check on her after recent job loss. Connected her with job search resources and financial assistance program.",careProvider:"Care Team Leader",careDate:"2025-01-12T10:30:00Z",priority:"high",status:"completed",tags:["job-loss","financial-help"]}],q=r.length>0?r:[{id:"4",name:"Robert Wilson",email:"robert@email.com",phone:"(555) 111-2222",address:"123 Oak St, City, State",lastContact:"2024-12-15T00:00:00Z",careNeeds:["elderly","homebound"],emergencyContact:"Jane Wilson (555) 111-2223"},{id:"5",name:"Maria Santos",email:"maria@email.com",phone:"(555) 333-4444",address:"456 Pine Ave, City, State",lastContact:"2025-01-05T00:00:00Z",careNeeds:["new-member","follow-up"],emergencyContact:"Carlos Santos (555) 333-4445"}],A=L.filter(e=>{let s=e.memberName.toLowerCase().includes(b.toLowerCase())||e.subject.toLowerCase().includes(b.toLowerCase())||e.notes.toLowerCase().includes(b.toLowerCase()),r="all"===w||e.careType===w,t="all"===C||e.status===C;return s&&r&&t}),E=e=>{switch(e){case"visit":default:return t.jsx(u.Z,{className:"w-4 h-4"});case"call":return t.jsx(y.Z,{className:"w-4 h-4"});case"email":return t.jsx(f.Z,{className:"w-4 h-4"});case"hospital":return t.jsx(o.Z,{className:"w-4 h-4"});case"counseling":return t.jsx(j.Z,{className:"w-4 h-4"});case"follow-up":return t.jsx(i.Z,{className:"w-4 h-4"})}},R=e=>{switch(e){case"hospital":return"text-red-600 bg-red-50 border-red-200";case"counseling":return"text-purple-600 bg-purple-50 border-purple-200";case"visit":return"text-blue-600 bg-blue-50 border-blue-200";case"call":return"text-green-600 bg-green-50 border-green-200";case"email":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},D=e=>{switch(e){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"normal":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return(0,t.jsxs)("div",{children:[t.jsx("div",{className:"mb-6",children:t.jsx("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[t.jsx("button",{onClick:()=>Z("records"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"records"===T?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Care Records"}),t.jsx("button",{onClick:()=>Z("members"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"members"===T?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Members Needing Care"})]})})}),"records"===T&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1 max-w-lg",children:(0,t.jsxs)("div",{className:"relative flex-1",children:[t.jsx(x.Z,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search care records...",value:b,onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"All Care Types"}),t.jsx("option",{value:"visit",children:"Visits"}),t.jsx("option",{value:"call",children:"Phone Calls"}),t.jsx("option",{value:"email",children:"Emails"}),t.jsx("option",{value:"hospital",children:"Hospital"}),t.jsx("option",{value:"counseling",children:"Counseling"}),t.jsx("option",{value:"follow-up",children:"Follow-up"})]}),(0,t.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"scheduled",children:"Scheduled"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]}),(0,t.jsxs)("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[t.jsx(c.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Add Care Record"})]})]})]}),t.jsx("div",{className:"bg-white rounded-lg shadow",children:n?(0,t.jsxs)("div",{className:"p-6 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Loading care records..."})]}):0===A.length?(0,t.jsxs)("div",{className:"p-6 text-center",children:[t.jsx(o.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"No care records found"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):t.jsx("div",{className:"divide-y divide-gray-200",children:A.map(e=>t.jsx("div",{className:"p-6 hover:bg-gray-50",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.memberName}),(0,t.jsxs)("span",{className:`px-2 py-1 text-xs font-medium border rounded-full flex items-center space-x-1 ${R(e.careType)}`,children:[E(e.careType),t.jsx("span",{className:"capitalize",children:e.careType})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium border rounded-full ${D(e.priority)}`,children:e.priority})]}),t.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:e.subject}),t.jsx("p",{className:"text-gray-700 mb-3",children:e.notes}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-2",children:[(0,t.jsxs)("span",{children:["Care by ",e.careProvider]}),t.jsx("span",{children:new Date(e.careDate).toLocaleDateString()}),e.nextFollowUp&&(0,t.jsxs)("span",{className:"text-blue-600",children:["Next follow-up: ",new Date(e.nextFollowUp).toLocaleDateString()]})]}),e.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((e,s)=>t.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:e},s))})]}),t.jsx("div",{className:"ml-4",children:t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${"completed"===e.status?"bg-green-100 text-green-800":"scheduled"===e.status?"bg-blue-100 text-blue-800":"in-progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:e.status})})]})},e.id))})})]}),"members"===T&&t.jsx("div",{children:t.jsx("div",{className:"bg-white rounded-lg shadow",children:(0,t.jsxs)("div",{className:"p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Members Requiring Care Attention"}),0===q.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(u.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"No members needing immediate care"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All members are up to date with care visits"})]}):t.jsx("div",{className:"space-y-4",children:q.map(e=>t.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:e.name}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(f.Z,{className:"w-4 h-4"}),t.jsx("span",{children:e.email})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(y.Z,{className:"w-4 h-4"}),t.jsx("span",{children:e.phone})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(v.Z,{className:"w-4 h-4"}),t.jsx("span",{children:e.address})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(i.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Last contact: ",new Date(e.lastContact).toLocaleDateString()]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:e.careNeeds.map((e,s)=>t.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded",children:e},s))}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Emergency Contact: ",e.emergencyContact]})]}),t.jsx("button",{onClick:()=>p(e),className:"ml-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"Schedule Care"})]})},e.id))})]})})})]})};var w=r(4061);let k=({onClose:e,onSubmit:s,initialData:r={}})=>{let[l,i]=(0,a.useState)({memberName:r.memberName||"",memberEmail:r.memberEmail||"",memberPhone:r.memberPhone||"",counselorName:r.counselorName||"Pastor Smith",sessionType:r.sessionType||"individual",sessionDate:r.sessionDate||"",sessionTime:r.sessionTime||"",duration:r.duration||60,location:r.location||"Pastor's Office",sessionTopic:r.sessionTopic||"",notes:r.notes||"",isRecurring:r.isRecurring||!1,recurringFrequency:r.recurringFrequency||"weekly",recurringCount:r.recurringCount||4,reminderEnabled:r.reminderEnabled||!0,reminderTime:r.reminderTime||24}),[o,c]=(0,a.useState)({}),[d,x]=(0,a.useState)(!1),g=()=>{let e={};return l.memberName.trim()||(e.memberName="Member name is required"),l.memberEmail.trim()?/\S+@\S+\.\S+/.test(l.memberEmail)||(e.memberEmail="Please enter a valid email address"):e.memberEmail="Member email is required",l.sessionDate||(e.sessionDate="Session date is required"),l.sessionTime||(e.sessionTime="Session time is required"),l.sessionTopic.trim()||(e.sessionTopic="Session topic is required"),l.sessionDate&&l.sessionTime&&new Date(`${l.sessionDate}T${l.sessionTime}`)<new Date&&(e.sessionDate="Session date and time cannot be in the past"),c(e),0===Object.keys(e).length},b=(e,s)=>{i(r=>({...r,[e]:s})),o[e]&&c(s=>({...s,[e]:""}))},y=async e=>{if(e.preventDefault(),g()){x(!0);try{await s(l)}catch(e){console.error("Failed to schedule counseling session:",e)}finally{x(!1)}}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(m.Z,{className:"w-6 h-6 text-blue-500"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Schedule Counseling Session"})]}),t.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(h.Z,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:y,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Member Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Member Name *"}),t.jsx("input",{type:"text",value:l.memberName,onChange:e=>b("memberName",e.target.value),placeholder:"Enter member's full name...",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.memberName?"border-red-300 bg-red-50":"border-gray-300"}`}),o.memberName&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[t.jsx(n.Z,{className:"w-4 h-4 mr-1"}),o.memberName]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),t.jsx("input",{type:"email",value:l.memberEmail,onChange:e=>b("memberEmail",e.target.value),placeholder:"member@email.com",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.memberEmail?"border-red-300 bg-red-50":"border-gray-300"}`}),o.memberEmail&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[t.jsx(n.Z,{className:"w-4 h-4 mr-1"}),o.memberEmail]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),t.jsx("input",{type:"tel",value:l.memberPhone,onChange:e=>b("memberPhone",e.target.value),placeholder:"(555) 123-4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Type"}),(0,t.jsxs)("select",{value:l.sessionType,onChange:e=>b("sessionType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"individual",children:"Individual Counseling"}),t.jsx("option",{value:"couple",children:"Couple/Marriage Counseling"}),t.jsx("option",{value:"family",children:"Family Counseling"}),t.jsx("option",{value:"group",children:"Group Counseling"})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center space-x-2 text-sm text-gray-600",children:[(e=>{switch(e){case"individual":default:return t.jsx(u.Z,{className:"w-4 h-4"});case"couple":case"family":case"group":return t.jsx(w.Z,{className:"w-4 h-4"})}})(l.sessionType),(0,t.jsxs)("span",{className:"capitalize",children:[l.sessionType," Session"]})]})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Session Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Counselor"}),t.jsx("select",{value:l.counselorName,onChange:e=>b("counselorName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:["Pastor Smith","Pastor David","Dr. Sarah Wilson (Licensed Therapist)","Chaplain Michael Brown"].map(e=>t.jsx("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Topic *"}),(0,t.jsxs)("select",{value:l.sessionTopic,onChange:e=>b("sessionTopic",e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.sessionTopic?"border-red-300 bg-red-50":"border-gray-300"}`,children:[t.jsx("option",{value:"",children:"Select topic..."}),["Marriage Counseling","Family Issues","Grief Counseling","Addiction Recovery","Depression/Anxiety","Spiritual Growth","Career/Life Decisions","Conflict Resolution","Parenting Issues","Financial Stress","Other"].map(e=>t.jsx("option",{value:e,children:e},e))]}),o.sessionTopic&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[t.jsx(n.Z,{className:"w-4 h-4 mr-1"}),o.sessionTopic]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Date *"}),t.jsx("input",{type:"date",value:l.sessionDate,onChange:e=>b("sessionDate",e.target.value),min:new Date().toISOString().split("T")[0],className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.sessionDate?"border-red-300 bg-red-50":"border-gray-300"}`}),o.sessionDate&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[t.jsx(n.Z,{className:"w-4 h-4 mr-1"}),o.sessionDate]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Time *"}),t.jsx("input",{type:"time",value:l.sessionTime,onChange:e=>b("sessionTime",e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.sessionTime?"border-red-300 bg-red-50":"border-gray-300"}`}),o.sessionTime&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[t.jsx(n.Z,{className:"w-4 h-4 mr-1"}),o.sessionTime]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),(0,t.jsxs)("select",{value:l.duration,onChange:e=>b("duration",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:30,children:"30 minutes"}),t.jsx("option",{value:45,children:"45 minutes"}),t.jsx("option",{value:60,children:"1 hour"}),t.jsx("option",{value:90,children:"1.5 hours"}),t.jsx("option",{value:120,children:"2 hours"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),t.jsx("select",{value:l.location,onChange:e=>b("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:["Pastor's Office","Counseling Room A","Counseling Room B","Conference Room","Virtual (Zoom)","Member's Home","Other Location"].map(e=>t.jsx("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Notes (Optional)"}),t.jsx("textarea",{value:l.notes,onChange:e=>b("notes",e.target.value),placeholder:"Any additional notes or special requirements for the session...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recurring Sessions"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",checked:l.isRecurring,onChange:e=>b("isRecurring",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Schedule recurring sessions"})]}),l.isRecurring&&(0,t.jsxs)("div",{className:"ml-7 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),(0,t.jsxs)("select",{value:l.recurringFrequency,onChange:e=>b("recurringFrequency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"weekly",children:"Weekly"}),t.jsx("option",{value:"biweekly",children:"Every 2 weeks"}),t.jsx("option",{value:"monthly",children:"Monthly"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Sessions"}),t.jsx("select",{value:l.recurringCount,onChange:e=>b("recurringCount",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[2,3,4,5,6,7,8,10,12].map(e=>(0,t.jsxs)("option",{value:e,children:[e," sessions"]},e))})]})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reminders"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",checked:l.reminderEnabled,onChange:e=>b("reminderEnabled",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Send email reminder"})]}),l.reminderEnabled&&(0,t.jsxs)("div",{className:"ml-7",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Send reminder"}),(0,t.jsxs)("select",{value:l.reminderTime,onChange:e=>b("reminderTime",parseInt(e.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:1,children:"1 hour before"}),t.jsx("option",{value:2,children:"2 hours before"}),t.jsx("option",{value:24,children:"1 day before"}),t.jsx("option",{value:48,children:"2 days before"}),t.jsx("option",{value:168,children:"1 week before"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",disabled:d,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[d?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):t.jsx(p.Z,{className:"w-4 h-4"}),t.jsx("span",{children:d?"Scheduling...":l.isRecurring?"Schedule Sessions":"Schedule Session"})]})]})]})]})})};function C(){let[e,s]=(0,a.useState)("prayer-requests"),[r,h]=(0,a.useState)([]),[g,p]=(0,a.useState)([]),[y,f]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),[w,C]=(0,a.useState)(""),[S,T]=(0,a.useState)("all"),[Z,P]=(0,a.useState)("all"),[L,q]=(0,a.useState)(!0),[A,E]=(0,a.useState)(null),R=async()=>{try{let e=await fetch("http://localhost:8000/api/care/prayer-requests",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}});if(e.ok){let s=await e.json();h(s.requests||[])}}catch(e){console.error("Error fetching prayer requests:",e)}finally{q(!1)}},D=async()=>{try{let e=await fetch("http://localhost:8000/api/care/counseling-sessions",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}});if(e.ok){let s=await e.json();p(s.sessions||[])}}catch(e){console.error("Error fetching counseling sessions:",e)}},O=r.filter(e=>{let s=e.title.toLowerCase().includes(w.toLowerCase())||e.description.toLowerCase().includes(w.toLowerCase()),r="all"===S||e.category===S,t="all"===Z||e.status===Z;return s&&r&&t}),M=e=>{switch(e){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"normal":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},F=e=>{switch(e){case"answered":return t.jsx(l.Z,{className:"w-4 h-4 text-green-600"});case"ongoing":return t.jsx(i.Z,{className:"w-4 h-4 text-yellow-600"});default:return t.jsx(n.Z,{className:"w-4 h-4 text-blue-600"})}};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(o.Z,{className:"w-8 h-8 text-red-500"}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pastoral Care"}),t.jsx("p",{className:"text-gray-600",children:"Managing prayer requests, member care, and counseling"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:["prayer-requests"===e&&(0,t.jsxs)("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[t.jsx(c.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Add Prayer Request"})]}),"counseling"===e&&(0,t.jsxs)("button",{onClick:()=>v(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[t.jsx(c.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Schedule Session"})]})]})]}),t.jsx("div",{className:"mt-6 border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,t.jsxs)("button",{onClick:()=>s("prayer-requests"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"prayer-requests"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx(d.Z,{className:"w-4 h-4 inline mr-2"}),"Prayer Requests"]}),(0,t.jsxs)("button",{onClick:()=>s("member-care"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"member-care"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx(u.Z,{className:"w-4 h-4 inline mr-2"}),"Member Care"]}),(0,t.jsxs)("button",{onClick:()=>s("counseling"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"counseling"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx(m.Z,{className:"w-4 h-4 inline mr-2"}),"Counseling"]})]})})]}),"prayer-requests"===e&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[t.jsx("div",{className:"flex items-center space-x-4 flex-1 max-w-lg",children:(0,t.jsxs)("div",{className:"relative flex-1",children:[t.jsx(x.Z,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search prayer requests...",value:w,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("select",{value:S,onChange:e=>T(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"All Categories"}),t.jsx("option",{value:"health",children:"Health"}),t.jsx("option",{value:"family",children:"Family"}),t.jsx("option",{value:"work",children:"Work"}),t.jsx("option",{value:"spiritual",children:"Spiritual"}),t.jsx("option",{value:"financial",children:"Financial"}),t.jsx("option",{value:"other",children:"Other"})]}),(0,t.jsxs)("select",{value:Z,onChange:e=>P(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"ongoing",children:"Ongoing"}),t.jsx("option",{value:"answered",children:"Answered"})]})]})]}),t.jsx("div",{className:"bg-white rounded-lg shadow",children:L?(0,t.jsxs)("div",{className:"p-6 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Loading prayer requests..."})]}):0===O.length?(0,t.jsxs)("div",{className:"p-6 text-center",children:[t.jsx(d.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"No prayer requests found"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your search or filters"})]}):t.jsx("div",{className:"divide-y divide-gray-200",children:O.map(e=>(0,t.jsxs)("div",{className:"p-6 hover:bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium border rounded-full ${M(e.priority)}`,children:e.priority}),t.jsx("span",{className:"text-sm text-gray-500 capitalize",children:e.category}),e.isPrivate&&t.jsx("span",{className:"px-2 py-1 text-xs font-medium text-purple-600 bg-purple-50 border border-purple-200 rounded-full",children:"Private"})]}),t.jsx("p",{className:"text-gray-700 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:["Requested by ",e.requestedBy]}),t.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()}),e.assignedTo&&(0,t.jsxs)("span",{children:["Assigned to ",e.assignedTo]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[F(e.status),t.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:e.status})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex space-x-2",children:[t.jsx("button",{onClick:()=>E(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"}),t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Add Update"}),t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Assign"})]})]},e.id))})})]}),"member-care"===e&&t.jsx(N,{}),"counseling"===e&&t.jsx("div",{children:t.jsx("div",{className:"bg-white rounded-lg shadow",children:(0,t.jsxs)("div",{className:"p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Counseling Sessions"}),0===g.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(m.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"No counseling sessions scheduled"}),t.jsx("button",{onClick:()=>v(!0),className:"mt-3 text-blue-600 hover:text-blue-800 font-medium",children:"Schedule your first session"})]}):t.jsx("div",{className:"space-y-4",children:g.map(e=>t.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:e.memberName}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.sessionType," session with ",e.counselorName]}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.scheduledDate).toLocaleString()})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${"completed"===e.status?"bg-green-100 text-green-800":"scheduled"===e.status?"bg-blue-100 text-blue-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status})]})},e.id))})]})})}),y&&t.jsx(b,{onClose:()=>f(!1),onSubmit:e=>{console.log("New prayer request:",e),R(),f(!1)}}),j&&t.jsx(k,{onClose:()=>v(!1),onSubmit:e=>{console.log("New counseling session:",e),D(),v(!1)}})]})}},8082:(e,s,r)=>{"use strict";r.d(s,{AuthProvider:()=>u,a:()=>m});var t=r(326),a=r(7577);let l="https://faithlink360-api.onrender.com";class i{async fetchWithAuth(e,s={}){let r=localStorage.getItem("auth_token"),t={"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...s.headers},a=await fetch(`${l}${e}`,{...s,headers:t});if(!a.ok)throw Error((await a.json().catch(()=>({message:a.statusText}))).message||`HTTP ${a.status}: ${a.statusText}`);return a.json()}async login(e){let s=await fetch(`${l}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error((await s.json().catch(()=>({message:s.statusText}))).message||`Login failed: ${s.statusText}`);let r=await s.json();return r.token&&(localStorage.setItem("auth_token",r.token),localStorage.setItem("user",JSON.stringify(r.user))),r}async register(e){return this.fetchWithAuth("/api/auth/register",{method:"POST",body:JSON.stringify(e)})}async getCurrentUser(){return this.fetchWithAuth("/api/auth/me")}async refreshToken(){return this.fetchWithAuth("/api/auth/refresh",{method:"POST"})}async logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("user");try{await this.fetchWithAuth("/api/auth/logout",{method:"POST"})}catch(e){console.log("Backend logout failed, but local logout successful")}}async forgotPassword(e){return this.fetchWithAuth("/api/auth/forgot-password",{method:"POST",body:JSON.stringify({email:e})})}async resetPassword(e,s){return this.fetchWithAuth("/api/auth/reset-password",{method:"POST",body:JSON.stringify({token:e,password:s})})}isTokenValid(){let e=localStorage.getItem("auth_token");if(!e)return!1;try{let s=JSON.parse(atob(e.split(".")[1]));return 1e3*s.exp>Date.now()}catch{return!1}}}let n=new i,o=(0,a.createContext)(void 0),c=(e,s)=>{switch(s.type){case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,user:s.payload,isAuthenticated:!0,isLoading:!1,error:null};case"LOGIN_ERROR":return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:s.payload};case"LOGOUT":return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:null};case"CLEAR_ERROR":return{...e,error:null};case"SET_LOADING":return{...e,isLoading:s.payload};default:return e}},d={user:null,isAuthenticated:!1,isLoading:!0,error:null};function u({children:e}){let[s,r]=(0,a.useReducer)(c,d),l=async e=>{r({type:"LOGIN_START"});try{let s=await n.login(e);localStorage.setItem("auth_token",s.token),r({type:"LOGIN_SUCCESS",payload:s.user})}catch(e){r({type:"LOGIN_ERROR",payload:e instanceof Error?e.message:"Login failed"})}},i=async e=>{r({type:"LOGIN_START"});try{let s=await n.register(e);localStorage.setItem("auth_token",s.token),r({type:"LOGIN_SUCCESS",payload:s.user})}catch(e){r({type:"LOGIN_ERROR",payload:e instanceof Error?e.message:"Registration failed"})}},u={...s,login:l,register:i,logout:()=>{localStorage.removeItem("authToken"),r({type:"LOGOUT"})},clearError:()=>{r({type:"CLEAR_ERROR"})}};return t.jsx(o.Provider,{value:u,children:e})}function m(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5038:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(8570).createProxy)(String.raw`C:\Users\allen\Downloads\FaithLink-main\FaithLink-main\src\frontend\src\app\care\page.tsx#default`)},3817:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c,metadata:()=>o});var t=r(9510),a=r(5384),l=r.n(a);r(5023);var i=r(8570);let n=(0,i.createProxy)(String.raw`C:\Users\allen\Downloads\FaithLink-main\FaithLink-main\src\frontend\src\contexts\AuthContext.tsx#AuthProvider`);(0,i.createProxy)(String.raw`C:\Users\allen\Downloads\FaithLink-main\FaithLink-main\src\frontend\src\contexts\AuthContext.tsx#useAuth`);let o={title:{default:"FaithLink360 - Church Member Management",template:"%s | FaithLink360"},description:"Comprehensive church member management and engagement platform",keywords:["church management","member engagement","spiritual journey","community","faith"],authors:[{name:"FaithLink360 Team"}],creator:"FaithLink360",publisher:"FaithLink360",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("https://faithlink360.netlify.app"),openGraph:{title:"FaithLink360 - Church Member Engagement Platform",description:"Help churches track, engage, and care for members across their spiritual journeys.",url:"/",siteName:"FaithLink360",locale:"en_US",type:"website"},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},verification:{}};function c({children:e}){return t.jsx("html",{lang:"en",className:"h-full",children:(0,t.jsxs)("body",{className:`h-full antialiased ${l().className}`,children:[t.jsx(n,{children:(0,t.jsxs)("div",{className:"min-h-full",children:[t.jsx("main",{className:"flex-1",children:e}),t.jsx("div",{id:"toast-root"})]})}),t.jsx(t.Fragment,{})]})})}},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[935],()=>r(1012));module.exports=t})();