(()=>{var e={};e.id=289,e.ids=[289],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8521:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(259),s(3817),s(5866);var a=s(3191),r=s(8716),i=s(7922),n=s.n(i),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["tasks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,259)),"C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\tasks\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3817)),"C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\tasks\\page.tsx"],h="/tasks/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/tasks/page",pathname:"/tasks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6702:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5931:(e,t,s)=>{Promise.resolve().then(s.bind(s,8082))},3349:(e,t,s)=>{Promise.resolve().then(s.bind(s,5076))},6557:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(7577),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,...h},u)=>(0,a.createElement)("svg",{ref:u,...r,width:n,height:n,stroke:s,strokeWidth:l?24*Number(o)/Number(n):o,className:["lucide",`lucide-${i(e)}`,c].join(" "),...h},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s}},7888:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},4659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6283:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1215:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},4061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},4019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5047:(e,t,s)=>{"use strict";var a=s(7389);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},5076:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(326),r=s(7577),i=s(4659),n=s(8998),o=s(7888),l=s(3855),c=s(8307),d=s(8082);class h{async request(e,t={},s){if(s&&this.cache.has(s))return this.cache.get(s);let a=`https://faithlink360-api.onrender.com${e}`,r=await fetch(a,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok)throw Error((await r.json().catch(()=>({}))).message||`HTTP error! status: ${r.status}`);let i=await r.json();return s&&200===r.status&&(this.cache.set(s,i),setTimeout(()=>this.cache.delete(s),3e5)),i}async getTasks(e={}){let t=new URLSearchParams;Object.entries(e).forEach(([e,s])=>{null!=s&&""!==s&&t.append(e,String(s))});let s=`tasks_${t.toString()}`;return this.request(`/api/tasks?${t.toString()}`,{method:"GET"},s)}async getTask(e){let t=this.cacheKeys.task(e);return this.request(`/api/tasks/${e}`,{method:"GET"},t)}async createTask(e){let t=await this.request("/api/tasks",{method:"POST",body:JSON.stringify(e)});return this.invalidateTaskCache(),t}async updateTask(e){let t=await this.request(`/api/tasks/${e.id}`,{method:"PUT",body:JSON.stringify(e)});return this.invalidateTaskCache(),this.cache.delete(this.cacheKeys.task(e.id)),t}async deleteTask(e){await this.request(`/api/tasks/${e}`,{method:"DELETE"}),this.invalidateTaskCache(),this.cache.delete(this.cacheKeys.task(e))}invalidateTaskCache(){let e=[];this.cache.forEach((t,s)=>{(s.startsWith("tasks_")||s===this.cacheKeys.tasks)&&e.push(s)}),e.forEach(e=>this.cache.delete(e))}getTaskPriorityColor(e){switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}getTaskStatusColor(e){switch(e){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}isTaskOverdue(e){return!!e.dueDate&&new Date(e.dueDate)<new Date&&"completed"!==e.status}getTaskProgress(e){let t=e.length,s=e.filter(e=>"completed"===e.status).length;return{total:t,completed:s,pending:e.filter(e=>"pending"===e.status).length,inProgress:e.filter(e=>"in_progress"===e.status).length,overdue:e.filter(e=>this.isTaskOverdue(e)).length}}constructor(){this.cache=new Map,this.cacheKeys={tasks:"tasks_list",task:e=>`task_${e}`}}}let u=new h;var m=s(5047);s(8440);var g=s(4019),p=s(6283);let y=(0,s(6557).Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);var x=s(765),f=s(4061),b=s(7358),k=s(1215);function j({onCancel:e,onSuccess:t}){let{user:s}=(0,d.a)();(0,m.useRouter)();let[i,n]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[c,h]=(0,r.useState)([]),[j,v]=(0,r.useState)({title:"",description:"",priority:"medium",category:"Administration",assignedTo:"",assignedToId:"",dueDate:""}),w=(e,t)=>{if(v(s=>({...s,[e]:t})),"assignedTo"===e){let e=c.find(e=>`${e.firstName} ${e.lastName}`===t);v(s=>({...s,assignedTo:t,assignedToId:e?.id||""}))}},N=async e=>{if(e.preventDefault(),!j.title.trim()){l("Task title is required");return}try{n(!0),l(null),await u.createTask({...j,title:j.title.trim(),description:j.description.trim()}),t()}catch(e){l(e instanceof Error?e.message:"Failed to create task")}finally{n(!1)}},S=j.title.trim().length>0;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full mx-4",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Task"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1",children:a.jsx(g.Z,{className:"w-5 h-5"})})]})}),(0,a.jsxs)("form",{onSubmit:N,className:"px-6 py-4 space-y-6",children:[o&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"flex",children:(0,a.jsxs)("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]})})}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Title *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",id:"title",value:j.title,onChange:e=>w("title",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter task title...",required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{id:"description",value:j.description,onChange:e=>w("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Describe the task in detail..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsxs)("select",{id:"priority",value:j.priority,onChange:e=>w("priority",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"low",children:"Low Priority"}),a.jsx("option",{value:"medium",children:"Medium Priority"}),a.jsx("option",{value:"high",children:"High Priority"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("select",{id:"category",value:j.category,onChange:e=>w("category",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:["Administration","Events","Pastoral Care","Groups","Maintenance","Finance","Communications","Outreach","Other"].map(e=>a.jsx("option",{value:e,children:e},e))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign To"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(f.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsxs)("select",{id:"assignedTo",value:j.assignedTo,onChange:e=>w("assignedTo",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"",children:"Select assignee..."}),c.map(e=>(0,a.jsxs)("option",{value:`${e.firstName} ${e.lastName}`,children:[e.firstName," ",e.lastName," (",e.role||"member",")"]},e.id))]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(b.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"date",id:"dueDate",value:j.dueDate,onChange:e=>w("dueDate",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-primary-500",min:new Date().toISOString().split("T")[0]})]})]})]})]}),(0,a.jsxs)("div",{className:"px-6 py-4 bg-gray-50 rounded-b-lg flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",onClick:N,disabled:!S||i,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:i?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Creating..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(k.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Task"})]})})]})]})}function v(){let{user:e}=(0,d.a)(),[t,s]=(0,r.useState)([]),[h,m]=(0,r.useState)(!0),[g,p]=(0,r.useState)(null),[y,x]=(0,r.useState)(""),[f,b]=(0,r.useState)("all"),[k,v]=(0,r.useState)("all"),[w,N]=(0,r.useState)(0),[S,T]=(0,r.useState)(!1),C=async()=>{try{m(!0),p(null);let e=await u.getTasks({search:y||void 0,status:"all"!==f?f:void 0,priority:"all"!==k?k:void 0,sortBy:"dueDate",sortOrder:"asc",limit:50});s(e.tasks||[]),N(e.total||0)}catch(e){p(e instanceof Error?e.message:"Failed to load tasks"),s([])}finally{m(!1)}},P=t.filter(e=>{let t=e.title.toLowerCase().includes(y.toLowerCase())||e.description.toLowerCase().includes(y.toLowerCase()),s="all"===f||e.status===f,a="all"===k||e.priority===k;return t&&s&&a}),A=e=>{switch(e){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},L=e=>{switch(e){case"completed":return a.jsx(i.Z,{className:"w-5 h-5 text-green-600"});case"in_progress":return a.jsx(n.Z,{className:"w-5 h-5 text-blue-600"});case"pending":return a.jsx(o.Z,{className:"w-5 h-5 text-yellow-600"});default:return a.jsx(o.Z,{className:"w-5 h-5 text-gray-600"})}};return h?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),a.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>a.jsx("div",{className:"h-24 bg-gray-200 rounded"},e))})]})}):(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tasks & Action Items"}),a.jsx("p",{className:"text-gray-600",children:"Manage and track administrative tasks"})]}),(0,a.jsxs)("button",{onClick:()=>T(!0),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 flex items-center gap-2",children:[a.jsx(l.Z,{className:"w-4 h-4"}),"New Task"]})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c.Z,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search tasks...",value:y,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"completed",children:"Completed"})]}),(0,a.jsxs)("select",{value:k,onChange:e=>v(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"all",children:"All Priorities"}),a.jsx("option",{value:"high",children:"High Priority"}),a.jsx("option",{value:"medium",children:"Medium Priority"}),a.jsx("option",{value:"low",children:"Low Priority"})]})]})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[P.map(e=>a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[L(e.status),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A(e.priority)}`,children:e.priority.toUpperCase()})]}),a.jsx("p",{className:"text-gray-600 mb-3",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[e.assignedTo&&(0,a.jsxs)("span",{children:["Assigned to: ",a.jsx("span",{className:"font-medium text-gray-700",children:e.assignedTo})]}),e.dueDate&&(0,a.jsxs)("span",{children:["Due: ",a.jsx("span",{className:"font-medium text-gray-700",children:new Date(e.dueDate).toLocaleDateString()})]}),(0,a.jsxs)("span",{children:["Category: ",a.jsx("span",{className:"font-medium text-gray-700",children:e.category})]})]})]}),a.jsx("div",{className:"flex items-center gap-2 ml-4",children:a.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-2",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})})]})},e.id)),0===P.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(o.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters"})]})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx(j,{onCancel:()=>T(!1),onSuccess:()=>{T(!1),C()}})})]})}},8082:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>h,a:()=>u});var a=s(326),r=s(7577);let i="https://faithlink360-api.onrender.com";class n{async fetchWithAuth(e,t={}){let s=localStorage.getItem("auth_token"),a={"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`},...t.headers},r=await fetch(`${i}${e}`,{...t,headers:a});if(!r.ok)throw Error((await r.json().catch(()=>({message:r.statusText}))).message||`HTTP ${r.status}: ${r.statusText}`);return r.json()}async login(e){let t=await fetch(`${i}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({message:t.statusText}))).message||`Login failed: ${t.statusText}`);let s=await t.json();return s.token&&(localStorage.setItem("auth_token",s.token),localStorage.setItem("user",JSON.stringify(s.user))),s}async register(e){return this.fetchWithAuth("/api/auth/register",{method:"POST",body:JSON.stringify(e)})}async getCurrentUser(){return this.fetchWithAuth("/api/auth/me")}async refreshToken(){return this.fetchWithAuth("/api/auth/refresh",{method:"POST"})}async logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("user");try{await this.fetchWithAuth("/api/auth/logout",{method:"POST"})}catch(e){console.log("Backend logout failed, but local logout successful")}}async forgotPassword(e){return this.fetchWithAuth("/api/auth/forgot-password",{method:"POST",body:JSON.stringify({email:e})})}async resetPassword(e,t){return this.fetchWithAuth("/api/auth/reset-password",{method:"POST",body:JSON.stringify({token:e,password:t})})}isTokenValid(){let e=localStorage.getItem("auth_token");if(!e)return!1;try{let t=JSON.parse(atob(e.split(".")[1]));return 1e3*t.exp>Date.now()}catch{return!1}}}let o=new n,l=(0,r.createContext)(void 0),c=(e,t)=>{switch(t.type){case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,user:t.payload,isAuthenticated:!0,isLoading:!1,error:null};case"LOGIN_ERROR":return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:t.payload};case"LOGOUT":return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:null};case"CLEAR_ERROR":return{...e,error:null};case"SET_LOADING":return{...e,isLoading:t.payload};default:return e}},d={user:null,isAuthenticated:!1,isLoading:!0,error:null};function h({children:e}){let[t,s]=(0,r.useReducer)(c,d),i=async e=>{s({type:"LOGIN_START"});try{let t=await o.login(e);localStorage.setItem("auth_token",t.token),s({type:"LOGIN_SUCCESS",payload:t.user})}catch(e){s({type:"LOGIN_ERROR",payload:e instanceof Error?e.message:"Login failed"})}},n=async e=>{s({type:"LOGIN_START"});try{let t=await o.register(e);localStorage.setItem("auth_token",t.token),s({type:"LOGIN_SUCCESS",payload:t.user})}catch(e){s({type:"LOGIN_ERROR",payload:e instanceof Error?e.message:"Registration failed"})}},h={...t,login:i,register:n,logout:()=>{localStorage.removeItem("authToken"),s({type:"LOGOUT"})},clearError:()=>{s({type:"CLEAR_ERROR"})}};return a.jsx(l.Provider,{value:h,children:e})}function u(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8440:(e,t,s)=>{"use strict";s.d(t,{H:()=>i});let a="https://faithlink360-api.onrender.com";class r{async fetchWithAuth(e,t={}){let s=localStorage.getItem("auth_token"),a=e.startsWith("http")?e:`http://localhost:8000${e}`,r=0;for(;r<=this.MAX_RETRIES;)try{let e=await fetch(a,{...t,headers:{"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`},...t.headers}});if(!e.ok){if(401===e.status){localStorage.removeItem("auth_token"),window.location.href="/login";return}let t=await e.json().catch(()=>({message:e.statusText}));throw Error(t.message||`HTTP ${e.status}: ${e.statusText}`)}return e.json()}catch(e){if(r<this.MAX_RETRIES&&e.message.includes("fetch")){r++,await new Promise(e=>setTimeout(e,1e3*r));continue}throw e}}getCacheKey(e,t={}){return`${e}-${JSON.stringify(t.body||{})}`}isValidCache(e){let t=this.requestCache.get(e);return!!t&&Date.now()-t.timestamp<this.CACHE_DURATION}async getMembers(e){let t=new URLSearchParams;e&&(e.query&&t.append("query",e.query),e.tags?.length&&t.append("tags",e.tags.join(",")),e.membershipStatus?.length&&t.append("status",e.membershipStatus.join(",")),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.limit&&t.append("limit",e.limit.toString()),e.offset&&t.append("offset",e.offset.toString()),e.ageRange&&(e.ageRange.min&&t.append("ageMin",e.ageRange.min.toString()),e.ageRange.max&&t.append("ageMax",e.ageRange.max.toString())),e.joinDateRange&&(e.joinDateRange.start&&t.append("joinStart",e.joinDateRange.start.toISOString()),e.joinDateRange.end&&t.append("joinEnd",e.joinDateRange.end.toISOString())),e.groups?.length&&t.append("groups",e.groups.join(",")));let s=`/api/members${t.toString()?`?${t.toString()}`:""}`,a=this.getCacheKey(s);if(this.isValidCache(a))return this.requestCache.get(a).data;if(this.pendingRequests.has(a))return this.pendingRequests.get(a);let r=this.fetchWithAuth(s).then(e=>(this.requestCache.set(a,{data:e,timestamp:Date.now()}),this.pendingRequests.delete(a),e)).catch(e=>{throw this.pendingRequests.delete(a),e});return this.pendingRequests.set(a,r),r}async getMember(e){return this.fetchWithAuth(`/api/members/${e}`)}async createMember(e){return this.fetchWithAuth("/api/members",{method:"POST",body:JSON.stringify(e)})}async updateMember(e){return this.fetchWithAuth(`/api/members/${e.id}`,{method:"PUT",body:JSON.stringify(e)})}async deleteMember(e){await this.fetchWithAuth(`/api/members/${e}`,{method:"DELETE"})}async getMemberStats(){return this.fetchWithAuth("/api/members/stats")}async getTags(){return this.fetchWithAuth("/api/members/tags")}async createTag(e){return this.fetchWithAuth("/api/members/tags",{method:"POST",body:JSON.stringify(e)})}async updateTag(e,t){return this.fetchWithAuth(`/api/members/tags/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteTag(e){await this.fetchWithAuth(`/api/members/tags/${e}`,{method:"DELETE"})}async uploadProfilePhoto(e,t){let s=localStorage.getItem("auth_token"),r=new FormData;r.append("photo",t);let i=await fetch(`${a}/api/members/${e}/photo`,{method:"POST",headers:{...s&&{Authorization:`Bearer ${s}`}},body:r});if(!i.ok)throw Error((await i.json().catch(()=>({message:i.statusText}))).message||`HTTP ${i.status}: ${i.statusText}`);return i.json()}async getSearchSuggestions(e){return this.fetchWithAuth(`/api/members/search/suggestions?q=${encodeURIComponent(e)}`)}async exportMembers(e){let t=new URLSearchParams;e&&(e.query&&t.append("query",e.query),e.tags?.length&&t.append("tags",e.tags.join(",")),e.membershipStatus?.length&&t.append("status",e.membershipStatus.join(",")));let s=localStorage.getItem("auth_token"),r=await fetch(`${a}/api/members/export${t.toString()?`?${t.toString()}`:""}`,{headers:{...s&&{Authorization:`Bearer ${s}`}}});if(!r.ok)throw Error(`Export failed: ${r.statusText}`);return r.blob()}async bulkUpdateMembers(e,t){return this.fetchWithAuth("/api/members/bulk",{method:"PUT",body:JSON.stringify({memberIds:e,updates:t})})}async bulkDeleteMembers(e){return this.fetchWithAuth("/api/members/bulk",{method:"DELETE",body:JSON.stringify({memberIds:e})})}constructor(){this.requestCache=new Map,this.pendingRequests=new Map,this.CACHE_DURATION=3e4,this.MAX_RETRIES=2}}let i=new r},3817:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>l});var a=s(9510),r=s(5384),i=s.n(r);s(5023);var n=s(8570);let o=(0,n.createProxy)(String.raw`C:\Users\allen\Downloads\FaithLink-main\FaithLink-main\src\frontend\src\contexts\AuthContext.tsx#AuthProvider`);(0,n.createProxy)(String.raw`C:\Users\allen\Downloads\FaithLink-main\FaithLink-main\src\frontend\src\contexts\AuthContext.tsx#useAuth`);let l={title:{default:"FaithLink360 - Church Member Management",template:"%s | FaithLink360"},description:"Comprehensive church member management and engagement platform",keywords:["church management","member engagement","spiritual journey","community","faith"],authors:[{name:"FaithLink360 Team"}],creator:"FaithLink360",publisher:"FaithLink360",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("https://faithlink360.netlify.app"),openGraph:{title:"FaithLink360 - Church Member Engagement Platform",description:"Help churches track, engage, and care for members across their spiritual journeys.",url:"/",siteName:"FaithLink360",locale:"en_US",type:"website"},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},verification:{}};function c({children:e}){return a.jsx("html",{lang:"en",className:"h-full",children:(0,a.jsxs)("body",{className:`h-full antialiased ${i().className}`,children:[a.jsx(o,{children:(0,a.jsxs)("div",{className:"min-h-full",children:[a.jsx("main",{className:"flex-1",children:e}),a.jsx("div",{id:"toast-root"})]})}),a.jsx(a.Fragment,{})]})})}},259:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\allen\Downloads\FaithLink-main\FaithLink-main\src\frontend\src\app\tasks\page.tsx#default`)},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[935],()=>s(8521));module.exports=a})();