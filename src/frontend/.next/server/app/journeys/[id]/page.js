(()=>{var e={};e.id=583,e.ids=[583],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8744:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>m,routeModule:()=>h,tree:()=>d}),s(4650),s(3817),s(5866);var r=s(3191),a=s(8716),n=s(7922),l=s.n(n),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["journeys",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4650)),"C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\journeys\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3817)),"C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\allen\\Downloads\\FaithLink-main\\FaithLink-main\\src\\frontend\\src\\app\\journeys\\[id]\\page.tsx"],c="/journeys/[id]/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/journeys/[id]/page",pathname:"/journeys/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1560:(e,t,s)=>{Promise.resolve().then(s.bind(s,7378))},7888:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},4893:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},9436:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},7378:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var r=s(326),a=s(7577),n=s(5047),l=s(6608),i=s(8122),o=s(434),d=s(8082),m=s(2523),c=s(8998),u=s(4893),h=s(9436),p=s(3),x=s(4659);let y=(0,s(6557).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);var b=s(7888),j=s(6333),g=s(9635),f=s(7358),w=s(3468),v=s(1540),N=s(6343),_=s(617);function $({journeyId:e}){let{user:t}=(0,d.a)();(0,n.useRouter)();let[s,l]=(0,a.useState)(null),[i,$]=(0,a.useState)(!0),[k,S]=(0,a.useState)(null),[T,M]=(0,a.useState)(null),[P,C]=(0,a.useState)(null),[Z,E]=(0,a.useState)(""),J=async()=>{try{$(!0),S(null);let t=await m.u.getMemberJourney(e);l(t)}catch(e){S(e instanceof Error?e.message:"Failed to load journey")}finally{$(!1)}},q=async t=>{try{M(t),await m.u.startMilestone(e,t),await J()}catch(e){S(e instanceof Error?e.message:"Failed to start milestone")}finally{M(null)}},O=async(t,s)=>{try{M(t),await m.u.completeMilestone(e,t,s),await J(),C(null),E("")}catch(e){S(e instanceof Error?e.message:"Failed to complete milestone")}finally{M(null)}},A=async e=>{if(!Z.trim()){S("Please provide your submission content");return}try{M(e),await m.u.submitMilestone({milestoneProgressId:e,type:"text",content:Z.trim()}),await J(),C(null),E("")}catch(e){S(e instanceof Error?e.message:"Failed to submit milestone")}finally{M(null)}},L=async()=>{try{let t=await m.u.exportMemberJourneyProgress(e,"pdf"),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download=`journey-progress-${e}.pdf`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}catch(e){S(e instanceof Error?e.message:"Failed to export progress")}},I=e=>{switch(e){case"not_started":default:return"bg-neutral-100 text-neutral-800 border-neutral-200";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-200";case"submitted":return"bg-purple-100 text-purple-800 border-purple-200";case"needs_revision":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":case"completed":return"bg-green-100 text-green-800 border-green-200";case"skipped":return"bg-neutral-100 text-neutral-600 border-neutral-200"}},F=e=>{switch(e){case"not_started":default:return r.jsx(c.Z,{className:"w-4 h-4"});case"in_progress":return r.jsx(u.Z,{className:"w-4 h-4"});case"submitted":return r.jsx(h.Z,{className:"w-4 h-4"});case"needs_revision":return r.jsx(p.Z,{className:"w-4 h-4"});case"approved":return r.jsx(x.Z,{className:"w-4 h-4"});case"completed":return r.jsx(y,{className:"w-4 h-4"});case"skipped":return r.jsx(b.Z,{className:"w-4 h-4"})}},U=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";t?.role==="admin"||t?.role==="pastor"||s&&(s.mentorId,t?.id);let D=s&&s.memberId===t?.id;return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):k||!s?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:r.jsx("div",{className:"text-sm text-red-700",children:k||"Journey not found"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[k&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:r.jsx("div",{className:"text-sm text-red-700",children:k})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center space-x-3 mb-2",children:(0,r.jsxs)(o.default,{href:"/journeys",className:"inline-flex items-center text-sm text-neutral-600 hover:text-neutral-900",children:[r.jsx(j.Z,{className:"w-4 h-4 mr-1"}),"Back to Journeys"]})}),r.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:s.journeyTemplateName}),(0,r.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-neutral-600 mb-4",children:[!D&&(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(g.Z,{className:"w-4 h-4 mr-1"}),s.memberName]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(f.Z,{className:"w-4 h-4 mr-1"}),"Started ",U(s.startedAt)]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(w.Z,{className:"w-4 h-4 mr-1"}),s.progress.completedMilestones,"/",s.progress.totalMilestones," milestones"]}),s.mentorName&&(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(g.Z,{className:"w-4 h-4 mr-1"}),"Mentor: ",s.mentorName]})]}),r.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-3 mb-4",children:r.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300 flex items-center justify-end pr-2",style:{width:`${s.progress.percentageComplete}%`},children:s.progress.percentageComplete>10&&(0,r.jsxs)("span",{className:"text-xs font-medium text-white",children:[s.progress.percentageComplete,"%"]})})}),s.notes&&r.jsx("div",{className:"bg-neutral-50 rounded-md p-3",children:r.jsx("p",{className:"text-sm text-neutral-700",children:s.notes})})]}),r.jsx("div",{className:"flex space-x-2",children:(0,r.jsxs)("button",{onClick:L,className:"inline-flex items-center px-3 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[r.jsx(v.Z,{className:"w-4 h-4 mr-2"}),"Export"]})})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Progress"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-primary-600",children:[s.progress.percentageComplete,"%"]})]}),r.jsx(w.Z,{className:"w-8 h-8 text-primary-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.progress.completedMilestones})]}),r.jsx(x.Z,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Days Active"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.progress.daysSinceStart})]}),r.jsx(f.Z,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Remaining"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.progress.totalMilestones-s.progress.completedMilestones})]}),r.jsx(N.Z,{className:"w-8 h-8 text-orange-600"})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-neutral-200",children:[r.jsx("div",{className:"p-6 border-b border-neutral-200",children:r.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Journey Milestones"})}),r.jsx("div",{className:"divide-y divide-neutral-200",children:s.progress.milestonesProgress.map((e,t)=>{let s=P===e.milestoneId,a="not_started"===e.status,n="in_progress"===e.status,l="in_progress"===e.status||"approved"===e.status;return(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-sm font-medium",children:t+1}),(0,r.jsxs)("h4",{className:"text-lg font-medium text-neutral-900",children:["Milestone ",t+1]}),(0,r.jsxs)("span",{className:`inline-flex items-center space-x-1 px-2.5 py-0.5 rounded-full text-xs font-medium border ${I(e.status)}`,children:[F(e.status),r.jsx("span",{className:"capitalize",children:e.status.replace("_"," ")})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-neutral-600 mb-3",children:[e.startedAt&&(0,r.jsxs)("div",{children:["Started: ",U(e.startedAt)]}),e.completedAt&&(0,r.jsxs)("div",{children:["Completed: ",U(e.completedAt)]}),e.timeSpent&&(0,r.jsxs)("div",{children:[e.timeSpent," minutes spent"]})]}),e.notes&&r.jsx("div",{className:"bg-neutral-50 rounded-md p-3 mb-3",children:r.jsx("p",{className:"text-sm text-neutral-700",children:e.notes})}),e.submissions.length>0&&r.jsx("div",{className:"space-y-2 mb-3",children:e.submissions.map(e=>(0,r.jsxs)("div",{className:"bg-blue-50 rounded-md p-3",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:(0,r.jsxs)("span",{className:"text-xs text-blue-600 font-medium",children:["Submitted ",U(e.submittedAt)]})}),r.jsx("p",{className:"text-sm text-neutral-700",children:e.content}),e.feedback&&(0,r.jsxs)("div",{className:"mt-2 pt-2 border-t border-blue-200",children:[(0,r.jsxs)("p",{className:"text-xs text-blue-600 font-medium mb-1",children:["Feedback from ",e.feedbackByName,":"]}),r.jsx("p",{className:"text-sm text-blue-700",children:e.feedback})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[D&&a&&(0,r.jsxs)("button",{onClick:()=>q(e.milestoneId),disabled:T===e.milestoneId,className:"inline-flex items-center px-3 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:[r.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"Start"]}),D&&n&&(0,r.jsxs)("button",{onClick:()=>C(s?null:e.milestoneId),className:"inline-flex items-center px-3 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:[r.jsx(_.Z,{className:"w-4 h-4 mr-2"}),"Submit"]}),D&&l&&(0,r.jsxs)("button",{onClick:()=>O(e.milestoneId),disabled:T===e.milestoneId,className:"inline-flex items-center px-3 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[r.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Complete"]})]})]}),s&&D&&n&&r.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-200",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Your Submission"}),r.jsx("textarea",{rows:4,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:Z,onChange:e=>E(e.target.value),placeholder:"Share your thoughts, reflections, or completed work for this milestone..."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{C(null),E("")},className:"px-4 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:"Cancel"}),(0,r.jsxs)("button",{onClick:()=>A(e.milestoneId),disabled:T===e.milestoneId||!Z.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:[T===e.milestoneId?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):r.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Submit"]})]})]})})]},e.milestoneId)})})]})]})}function k(){let e=(0,n.useParams)().id;return r.jsx(l.Z,{children:r.jsx(i.Z,{children:r.jsx($,{journeyId:e})})})}},2523:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});let r="https://faithlink360-api.onrender.com",a=new Map,n=new Map;class l{async request(e,t={},s,n=3e4){let l=`${r}${e}`,i=localStorage.getItem("auth_token"),o={"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},d={...t,headers:{...o,...t.headers}};if(s&&"GET"===t.method){let e=a.get(s);if(e&&Date.now()-e.timestamp<e.ttl)return console.log(`Cache hit for ${s}`),e.data}let m=Error("Request failed");for(let e=1;e<=3;e++)try{let r=await fetch(l,d);if(!r.ok){if(429===r.status){await new Promise(t=>setTimeout(t,1e3*e));continue}throw Error(`HTTP ${r.status}: ${r.statusText}`)}let i=await r.json();return s&&"GET"===t.method&&a.set(s,{data:i,timestamp:Date.now(),ttl:n}),i}catch(t){if(m=t instanceof Error?t:Error("Unknown error"),3===e)break;await new Promise(t=>setTimeout(t,1e3*e))}throw m}async getJourneyTemplates(e={}){let t=new URLSearchParams;Object.entries(e).forEach(([e,s])=>{null!=s&&""!==s&&(Array.isArray(s)?s.forEach(s=>t.append(e,String(s))):t.append(e,String(s)))});let s=`journey_templates_${t.toString()}`;return this.request(`/api/journey-templates?${t.toString()}`,{method:"GET"},s)}async getJourneyTemplate(e){let t=`journey_template_${e}`;return this.request(`/api/journey-templates/${e}`,{method:"GET"},t)}async createJourneyTemplate(e){let t=await this.request("/api/journey-templates",{method:"POST",body:JSON.stringify(e)});return this.invalidateTemplateCache(),t}async updateJourneyTemplate(e){let t=await this.request(`/api/journey-templates/${e.id}`,{method:"PUT",body:JSON.stringify(e)});return a.delete(`journey_template_${e.id}`),this.invalidateTemplateCache(),t}async deleteJourneyTemplate(e){await this.request(`/api/journey-templates/${e}`,{method:"DELETE"}),a.delete(`journey_template_${e}`),this.invalidateTemplateCache()}async duplicateJourneyTemplate(e,t){let s=await this.request(`/api/journey-templates/${e}/duplicate`,{method:"POST",body:JSON.stringify({name:t})});return this.invalidateTemplateCache(),s}async getMemberJourneys(e={}){let t=new URLSearchParams;Object.entries(e).forEach(([e,s])=>{null!=s&&""!==s&&t.append(e,String(s))});let s=`member_journeys_${t.toString()}`;return this.request(`/journeys/member-journeys?${t.toString()}`,{method:"GET"},s)}async getMemberJourney(e){let t=`member_journey_${e}`;return this.request(`/journeys/member-journeys/${e}`,{method:"GET"},t)}async assignJourneyToMember(e){let t=await this.request("/journeys/member-journeys",{method:"POST",body:JSON.stringify(e)});return this.invalidateMemberJourneyCache(),t}async updateMemberJourney(e){let t=await this.request(`/journeys/member-journeys/${e.id}`,{method:"PUT",body:JSON.stringify(e)});return a.delete(`member_journey_${e.id}`),this.invalidateMemberJourneyCache(),t}async deleteMemberJourney(e){await this.request(`/journeys/member-journeys/${e}`,{method:"DELETE"}),a.delete(`member_journey_${e}`),this.invalidateMemberJourneyCache()}async getMilestoneProgress(e,t){let s=`milestone_progress_${e}_${t}`;return this.request(`/journeys/member-journeys/${e}/milestones/${t}/progress`,{method:"GET"},s)}async startMilestone(e,t){let s=await this.request(`/journeys/member-journeys/${e}/milestones/${t}/start`,{method:"POST"});return a.delete(`member_journey_${e}`),a.delete(`milestone_progress_${e}_${t}`),s}async completeMilestone(e,t,s){let r=await this.request(`/journeys/member-journeys/${e}/milestones/${t}/complete`,{method:"POST",body:JSON.stringify({notes:s})});return a.delete(`member_journey_${e}`),a.delete(`milestone_progress_${e}_${t}`),r}async submitMilestone(e){let t=new FormData;t.append("type",e.type),t.append("content",e.content),e.attachments&&e.attachments.forEach((e,s)=>{t.append(`attachment_${s}`,e)});let s=localStorage.getItem("auth_token"),a=await fetch(`${r}/api/journeys/milestone-progress/${e.milestoneProgressId}/submit`,{method:"POST",headers:{...s&&{Authorization:`Bearer ${s}`}},body:t});if(!a.ok)throw Error(`HTTP ${a.status}: ${a.statusText}`);let n=await a.json();return this.invalidateMemberJourneyCache(),n}async approveMilestone(e,t,s){let r=await this.request(`/journeys/member-journeys/${e}/milestones/${t}/approve`,{method:"POST",body:JSON.stringify({feedback:s})});return a.delete(`member_journey_${e}`),a.delete(`milestone_progress_${e}_${t}`),r}async requestMilestoneRevision(e,t,s){let r=await this.request(`/journeys/member-journeys/${e}/milestones/${t}/request-revision`,{method:"POST",body:JSON.stringify({feedback:s})});return a.delete(`member_journey_${e}`),a.delete(`milestone_progress_${e}_${t}`),r}async getJourneyStats(){return this.request("/journeys/stats",{method:"GET"},"journey_stats",6e4)}async getMemberJourneyStats(e){let t=`member_journey_stats_${e}`;return this.request(`/journeys/members/${e}/stats`,{method:"GET"},t,6e4)}async bulkAssignJourney(e,t,s){let r=await this.request("/journeys/bulk-assign",{method:"POST",body:JSON.stringify({memberIds:e,templateId:t,mentorId:s})});return this.invalidateMemberJourneyCache(),r}async bulkUpdateJourneyStatus(e,t){await this.request("/journeys/bulk-status",{method:"POST",body:JSON.stringify({journeyIds:e,status:t})}),this.invalidateMemberJourneyCache()}async exportJourneyTemplate(e,t="json"){let s=await fetch(`${r}/api/journey-templates/${e}/export?format=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!s.ok)throw Error(`Export failed: ${s.statusText}`);return s.blob()}async exportMemberJourneyProgress(e,t="pdf"){let s=await fetch(`${r}/journeys/member-journeys/${e}/export?format=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!s.ok)throw Error(`Export failed: ${s.statusText}`);return s.blob()}invalidateTemplateCache(){for(let[e]of a)e.includes("journey_template")&&a.delete(e)}invalidateMemberJourneyCache(){for(let[e]of a)(e.includes("member_journey")||e.includes("milestone_progress"))&&a.delete(e)}clearCache(){a.clear(),n.clear()}}let i=new l},4650:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\allen\Downloads\FaithLink-main\FaithLink-main\src\frontend\src\app\journeys\[id]\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[935,434,748],()=>s(8744));module.exports=r})();