"use strict";exports.id=850,exports.ids=[850],exports.modules={4659:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4471:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(6557).Z)("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]])},9819:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(6557).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},1470:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(6557).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},840:(e,t,a)=>{a.d(t,{n:()=>i});let r=new Map,s=new Map;class n{async request(e,t={},a,n=3e4){if(a&&"GET"===t.method){let e=r.get(a);if(e&&Date.now()-e.timestamp<e.ttl)return e.data}let i=`${t.method||"GET"}_${e}_${JSON.stringify(t.body)}`;if(s.has(i))return s.get(i);let o=`${e}`,u=localStorage.getItem("auth_token"),p={...t,headers:{"Content-Type":"application/json",...u&&{Authorization:`Bearer ${u}`},...t.headers}},h=this.makeRequest(o,p,a,n);return s.set(i,h),h.finally(()=>{s.delete(i)}),h}async makeRequest(e,t,a,s=3e4){let n=Error("Unknown error occurred");for(let i=1;i<=3;i++)try{let n=await fetch(e,t);if(!n.ok){if(429===n.status){await new Promise(e=>setTimeout(e,1e3*i));continue}throw Error(`HTTP ${n.status}: ${n.statusText}`)}let o=await n.json();return a&&"GET"===t.method&&r.set(a,{data:o,timestamp:Date.now(),ttl:s}),o}catch(e){if(n=e instanceof Error?e:Error("Unknown error"),3===i)break;await new Promise(e=>setTimeout(e,1e3*i))}throw n}async getAttendanceSessions(e){let t=new URLSearchParams;Object.entries(e).forEach(([e,a])=>{null!=a&&""!==a&&t.append(e,String(a))});let a=`attendance_sessions_${t.toString()}`;return this.request(`/api/attendance?${t.toString()}`,{method:"GET"},a)}async getAttendanceSession(e){let t=`attendance_session_${e}`;return this.request(`/api/attendance/${e}`,{method:"GET"},t)}async createAttendanceSession(e){let t=await this.request("/api/attendance",{method:"POST",body:JSON.stringify(e)});return this.invalidateGroupCache(e.groupId),t}async updateAttendanceSession(e){let t=await this.request(`/api/attendance/${e.id}`,{method:"PUT",body:JSON.stringify(e)});return r.delete(`attendance_session_${e.id}`),t}async deleteAttendanceSession(e){await this.request(`/api/attendance/${e}`,{method:"DELETE"}),r.delete(`attendance_session_${e}`),this.invalidateAllGroupCaches()}async getAttendanceStats(e,t,a){let r=new URLSearchParams({groupId:e});t&&r.append("startDate",t),a&&r.append("endDate",a);let s=`attendance_stats_${r.toString()}`;return this.request(`/api/attendance/stats?${r.toString()}`,{method:"GET"},s,6e4)}async exportAttendance(e,t="csv"){let a=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{null!=t&&""!==t&&a.append(e,String(t))}),a.append("format",t);let r=await fetch(`/api/attendance/export?${a.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!r.ok)throw Error(`Export failed: ${r.statusText}`);return r.blob()}async bulkUpdateAttendance(e,t){let a=await this.request(`/api/attendance/${e}/bulk-update`,{method:"POST",body:JSON.stringify({updates:t})});return r.delete(`attendance_session_${e}`),a}invalidateGroupCache(e){for(let[t]of r)(t.includes(`groupId=${e}`)||t.includes(`group_${e}`))&&r.delete(t)}invalidateAllGroupCaches(){for(let[e]of r)e.includes("attendance_")&&r.delete(e)}clearCache(){r.clear(),s.clear()}}let i=new n},4349:(e,t,a)=>{a.d(t,{P:()=>s});class r{async fetchWithAuth(e,t={}){let a=localStorage.getItem("auth_token"),r={"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...t.headers},s=0;for(;s<=this.MAX_RETRIES;)try{let a=await fetch(`${e}`,{...t,headers:r});if(!a.ok){if(429===a.status&&s<this.MAX_RETRIES){await new Promise(e=>setTimeout(e,1e3*(s+1))),s++;continue}let e=await a.json().catch(()=>({message:a.statusText}));throw Error(e.message||`HTTP ${a.status}: ${a.statusText}`)}return a.json()}catch(e){if(s<this.MAX_RETRIES&&e.message.includes("fetch")){s++,await new Promise(e=>setTimeout(e,1e3*s));continue}throw e}}getCacheKey(e,t={}){return`${e}-${JSON.stringify(t.body||{})}`}isValidCache(e){let t=this.requestCache.get(e);return!!t&&Date.now()-t.timestamp<this.CACHE_DURATION}async getGroups(e){let t=new URLSearchParams;e&&(e.query&&t.append("query",e.query),e.type?.length&&t.append("type",e.type.join(",")),e.status?.length&&t.append("status",e.status.join(",")),e.leaderId&&t.append("leaderId",e.leaderId),e.tags?.length&&t.append("tags",e.tags.join(",")),void 0!==e.hasAvailableSpace&&t.append("hasAvailableSpace",e.hasAvailableSpace.toString()),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.limit&&t.append("limit",e.limit.toString()),e.offset&&t.append("offset",e.offset.toString()));let a=`/api/groups${t.toString()?`?${t.toString()}`:""}`,r=this.getCacheKey(a);if(this.isValidCache(r))return this.requestCache.get(r).data;if(this.pendingRequests.has(r))return this.pendingRequests.get(r);let s=this.fetchWithAuth(a).then(e=>(this.requestCache.set(r,{data:e,timestamp:Date.now()}),this.pendingRequests.delete(r),e)).catch(e=>{throw this.pendingRequests.delete(r),e});return this.pendingRequests.set(r,s),s}async getGroup(e){return this.fetchWithAuth(`/api/groups/${e}`)}async createGroup(e){return this.fetchWithAuth("/api/groups",{method:"POST",body:JSON.stringify(e)})}async updateGroup(e){return this.fetchWithAuth(`/api/groups/${e.id}`,{method:"PUT",body:JSON.stringify(e)})}async deleteGroup(e){await this.fetchWithAuth(`/api/groups/${e}`,{method:"DELETE"})}async getGroupMembers(e){return(await this.fetchWithAuth(`/api/groups/${e}/members`)).members||[]}async addGroupMember(e,t,a="member"){return this.fetchWithAuth(`/api/groups/${e}/members`,{method:"POST",body:JSON.stringify({memberId:t,role:a})})}async updateGroupMember(e,t,a){return this.fetchWithAuth(`/api/groups/${e}/members/${t}`,{method:"PUT",body:JSON.stringify(a)})}async removeGroupMember(e,t){await this.fetchWithAuth(`/api/groups/${e}/members/${t}`,{method:"DELETE"})}async getGroupAttendance(e,t,a){let r=new URLSearchParams;t&&r.append("startDate",t),a&&r.append("endDate",a);let s=`/api/groups/${e}/attendance${r.toString()?`?${r.toString()}`:""}`;return this.fetchWithAuth(s)}async recordAttendance(e){return this.fetchWithAuth(`/api/groups/${e.groupId}/attendance`,{method:"POST",body:JSON.stringify(e)})}async updateAttendance(e,t,a){return this.fetchWithAuth(`/api/groups/${e}/attendance/${t}`,{method:"PUT",body:JSON.stringify(a)})}async deleteAttendance(e,t){await this.fetchWithAuth(`/api/groups/${e}/attendance/${t}`,{method:"DELETE"})}async getGroupStats(){return this.fetchWithAuth("/api/groups/stats")}async getGroupAttendanceStats(e,t="month"){return this.fetchWithAuth(`/api/groups/${e}/stats/attendance?period=${t}`)}async exportGroups(e){let t=new URLSearchParams;e&&(e.query&&t.append("query",e.query),e.type?.length&&t.append("type",e.type.join(",")),e.status?.length&&t.append("status",e.status.join(",")));let a=localStorage.getItem("auth_token"),r=await fetch(`/api/groups/export${t.toString()?`?${t.toString()}`:""}`,{headers:{...a&&{Authorization:`Bearer ${a}`}}});if(!r.ok)throw Error(`Export failed: ${r.statusText}`);return r.blob()}async bulkUpdateGroups(e,t){return this.fetchWithAuth("/api/groups/bulk",{method:"PUT",body:JSON.stringify({groupIds:e,updates:t})})}async bulkDeleteGroups(e){return this.fetchWithAuth("/api/groups/bulk",{method:"DELETE",body:JSON.stringify({groupIds:e})})}async getGroupTypes(){return[{value:"small_group",label:"Small Group",description:"Intimate fellowship and Bible study groups"},{value:"ministry",label:"Ministry Team",description:"Service-focused ministry groups"},{value:"youth",label:"Youth Group",description:"Teen and young adult groups"},{value:"seniors",label:"Seniors Group",description:"Groups for older adults"},{value:"womens",label:"Women's Group",description:"Women's fellowship and study groups"},{value:"mens",label:"Men's Group",description:"Men's fellowship and study groups"},{value:"children",label:"Children's Group",description:"Groups for children and families"},{value:"worship",label:"Worship Team",description:"Music and worship ministry teams"},{value:"service",label:"Service Team",description:"Community service and outreach teams"},{value:"bible_study",label:"Bible Study",description:"Scripture study and discussion groups"},{value:"prayer",label:"Prayer Group",description:"Prayer and intercession groups"},{value:"outreach",label:"Outreach Team",description:"Evangelism and community outreach"},{value:"other",label:"Other",description:"Custom group types"}]}constructor(){this.requestCache=new Map,this.pendingRequests=new Map,this.CACHE_DURATION=3e4,this.MAX_RETRIES=2}}let s=new r}};