"use strict";exports.id=31,exports.ids=[31],exports.modules={8998:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7636:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},1215:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},765:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},3031:(e,t,r)=>{r.d(t,{Z:()=>p});var a=r(326),s=r(7577),i=r(5047),n=r(8082),o=r(4349);r(8440);var l=r(4061),u=r(8998),d=r(7636),c=r(4019),m=r(765),h=r(1215);function p({group:e,onSave:t,onCancel:r}){let{user:p}=(0,n.a)(),g=(0,i.useRouter)(),[y,f]=(0,s.useState)(!1),[b,x]=(0,s.useState)(null),[v,S]=(0,s.useState)([]),[j,w]=(0,s.useState)([]),[N,T]=(0,s.useState)({name:e?.name||"",description:e?.description||"",type:e?.type||"small_group",leaderId:e?.leaderId||p?.id||"",coLeaderIds:e?.coLeaderIds||[],maxMembers:e?.maxMembers||void 0,location:e?.location||"",tags:e?.tags||[],meetingSchedule:{frequency:e?.meetingSchedule?.frequency||"weekly",dayOfWeek:e?.meetingSchedule?.dayOfWeek||0,time:e?.meetingSchedule?.time||"",duration:e?.meetingSchedule?.duration||60}}),[A,k]=(0,s.useState)(""),$=(e,t)=>{if(e.startsWith("meetingSchedule.")){let r=e.split(".")[1];T(e=>({...e,meetingSchedule:{...e.meetingSchedule,[r]:t}}))}else T(r=>({...r,[e]:t}))},C=()=>{A.trim()&&!N.tags.includes(A.trim())&&(T(e=>({...e,tags:[...e.tags,A.trim()]})),k(""))},E=e=>{T(t=>({...t,tags:t.tags.filter(t=>t!==e)}))},R=async r=>{if(r.preventDefault(),!N.name.trim()){x("Group name is required");return}f(!0),x(null);try{let r;let a={name:N.name.trim(),description:N.description.trim()||void 0,type:N.type,leaderId:N.leaderId,coLeaderIds:N.coLeaderIds.length>0?N.coLeaderIds:void 0,maxMembers:N.maxMembers||void 0,location:N.location.trim()||void 0,tags:N.tags.length>0?N.tags:void 0,meetingSchedule:{frequency:N.meetingSchedule.frequency,dayOfWeek:N.meetingSchedule.dayOfWeek,time:N.meetingSchedule.time||void 0,duration:N.meetingSchedule.duration}};r=e?await o.P.updateGroup({id:e.id,...a}):await o.P.createGroup(a),t?t(r):g.push(`/groups/${r.id}`)}catch(e){x(e instanceof Error?e.message:"Failed to save group")}finally{f(!1)}};return(0,a.jsxs)("form",{onSubmit:R,className:"bg-white rounded-lg shadow-sm border border-neutral-200",children:[(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[b&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsx("div",{className:"text-sm text-red-700",children:b})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-neutral-900 flex items-center",children:[a.jsx(l.Z,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Group Name *"}),a.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.name,onChange:e=>$("name",e.target.value),placeholder:"Enter group name"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Group Type *"}),a.jsx("select",{required:!0,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.type,onChange:e=>$("type",e.target.value),children:j.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Description"}),a.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.description,onChange:e=>$("description",e.target.value),placeholder:"Describe the group's purpose and activities"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-neutral-900 flex items-center",children:[a.jsx(l.Z,{className:"w-5 h-5 mr-2"}),"Leadership"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Group Leader *"}),(0,a.jsxs)("select",{required:!0,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.leaderId,onChange:e=>$("leaderId",e.target.value),children:[a.jsx("option",{value:"",children:"Select a leader"}),v.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Co-Leaders (Optional)"}),a.jsx("select",{multiple:!0,className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.coLeaderIds,onChange:e=>$("coLeaderIds",Array.from(e.target.selectedOptions,e=>e.value)),children:v.filter(e=>e.id!==N.leaderId).map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))}),a.jsx("p",{className:"mt-1 text-xs text-neutral-500",children:"Hold Ctrl/Cmd to select multiple"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-neutral-900 flex items-center",children:[a.jsx(u.Z,{className:"w-5 h-5 mr-2"}),"Meeting Schedule"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Frequency"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.meetingSchedule.frequency,onChange:e=>$("meetingSchedule.frequency",e.target.value),children:[a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"biweekly",children:"Bi-weekly"}),a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"irregular",children:"Irregular"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Day of Week"}),a.jsx("select",{className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.meetingSchedule.dayOfWeek,onChange:e=>$("meetingSchedule.dayOfWeek",parseInt(e.target.value)),children:[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}].map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Time"}),a.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.meetingSchedule.time,onChange:e=>$("meetingSchedule.time",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Duration (minutes)"}),a.jsx("input",{type:"number",min:"15",max:"480",step:"15",className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.meetingSchedule.duration,onChange:e=>$("meetingSchedule.duration",parseInt(e.target.value))})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-neutral-900 flex items-center",children:[a.jsx(d.Z,{className:"w-5 h-5 mr-2"}),"Additional Details"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Meeting Location"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.location,onChange:e=>$("location",e.target.value),placeholder:"e.g., Room 201, Online, Community Center"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Maximum Members"}),a.jsx("input",{type:"number",min:"1",max:"500",className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:N.maxMembers||"",onChange:e=>$("maxMembers",e.target.value?parseInt(e.target.value):void 0),placeholder:"Leave empty for no limit"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:N.tags.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:[e,a.jsx("button",{type:"button",className:"ml-1 text-primary-600 hover:text-primary-800",onClick:()=>E(e),children:a.jsx(c.Z,{className:"w-3 h-3"})})]},e))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:A,onChange:e=>k(e.target.value),placeholder:"Add a tag",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),C())}}),a.jsx("button",{type:"button",onClick:C,className:"px-3 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50",children:a.jsx(m.Z,{className:"w-4 h-4"})})]})]})]})]}),(0,a.jsxs)("div",{className:"px-6 py-4 bg-neutral-50 border-t border-neutral-200 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>{r?r():g.back()},className:"px-4 py-2 border border-neutral-300 rounded-md text-sm font-medium text-neutral-700 bg-white hover:bg-neutral-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",disabled:y,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:[y?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):a.jsx(h.Z,{className:"w-4 h-4 mr-2"}),e?"Update Group":"Create Group"]})]})]})}},4349:(e,t,r)=>{r.d(t,{P:()=>i});let a="https://faithlink360-api.onrender.com";class s{async fetchWithAuth(e,t={}){let r=localStorage.getItem("auth_token"),s={"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...t.headers},i=0;for(;i<=this.MAX_RETRIES;)try{let r=await fetch(`${a}${e}`,{...t,headers:s});if(!r.ok){if(429===r.status&&i<this.MAX_RETRIES){await new Promise(e=>setTimeout(e,1e3*(i+1))),i++;continue}let e=await r.json().catch(()=>({message:r.statusText}));throw Error(e.message||`HTTP ${r.status}: ${r.statusText}`)}return r.json()}catch(e){if(i<this.MAX_RETRIES&&e.message.includes("fetch")){i++,await new Promise(e=>setTimeout(e,1e3*i));continue}throw e}}getCacheKey(e,t={}){return`${e}-${JSON.stringify(t.body||{})}`}isValidCache(e){let t=this.requestCache.get(e);return!!t&&Date.now()-t.timestamp<this.CACHE_DURATION}async getGroups(e){let t=new URLSearchParams;e&&(e.query&&t.append("query",e.query),e.type?.length&&t.append("type",e.type.join(",")),e.status?.length&&t.append("status",e.status.join(",")),e.leaderId&&t.append("leaderId",e.leaderId),e.tags?.length&&t.append("tags",e.tags.join(",")),void 0!==e.hasAvailableSpace&&t.append("hasAvailableSpace",e.hasAvailableSpace.toString()),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.limit&&t.append("limit",e.limit.toString()),e.offset&&t.append("offset",e.offset.toString()));let r=`/api/groups${t.toString()?`?${t.toString()}`:""}`,a=this.getCacheKey(r);if(this.isValidCache(a))return this.requestCache.get(a).data;if(this.pendingRequests.has(a))return this.pendingRequests.get(a);let s=this.fetchWithAuth(r).then(e=>(this.requestCache.set(a,{data:e,timestamp:Date.now()}),this.pendingRequests.delete(a),e)).catch(e=>{throw this.pendingRequests.delete(a),e});return this.pendingRequests.set(a,s),s}async getGroup(e){return this.fetchWithAuth(`/api/groups/${e}`)}async createGroup(e){return this.fetchWithAuth("/api/groups",{method:"POST",body:JSON.stringify(e)})}async updateGroup(e){return this.fetchWithAuth(`/api/groups/${e.id}`,{method:"PUT",body:JSON.stringify(e)})}async deleteGroup(e){await this.fetchWithAuth(`/api/groups/${e}`,{method:"DELETE"})}async getGroupMembers(e){return(await this.fetchWithAuth(`/api/groups/${e}/members`)).members||[]}async addGroupMember(e,t,r="member"){return this.fetchWithAuth(`/api/groups/${e}/members`,{method:"POST",body:JSON.stringify({memberId:t,role:r})})}async updateGroupMember(e,t,r){return this.fetchWithAuth(`/api/groups/${e}/members/${t}`,{method:"PUT",body:JSON.stringify(r)})}async removeGroupMember(e,t){await this.fetchWithAuth(`/api/groups/${e}/members/${t}`,{method:"DELETE"})}async getGroupAttendance(e,t,r){let a=new URLSearchParams;t&&a.append("startDate",t),r&&a.append("endDate",r);let s=`/api/groups/${e}/attendance${a.toString()?`?${a.toString()}`:""}`;return this.fetchWithAuth(s)}async recordAttendance(e){return this.fetchWithAuth(`/api/groups/${e.groupId}/attendance`,{method:"POST",body:JSON.stringify(e)})}async updateAttendance(e,t,r){return this.fetchWithAuth(`/api/groups/${e}/attendance/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteAttendance(e,t){await this.fetchWithAuth(`/api/groups/${e}/attendance/${t}`,{method:"DELETE"})}async getGroupStats(){return this.fetchWithAuth("/api/groups/stats")}async getGroupAttendanceStats(e,t="month"){return this.fetchWithAuth(`/api/groups/${e}/stats/attendance?period=${t}`)}async exportGroups(e){let t=new URLSearchParams;e&&(e.query&&t.append("query",e.query),e.type?.length&&t.append("type",e.type.join(",")),e.status?.length&&t.append("status",e.status.join(",")));let r=localStorage.getItem("auth_token"),s=await fetch(`${a}/api/groups/export${t.toString()?`?${t.toString()}`:""}`,{headers:{...r&&{Authorization:`Bearer ${r}`}}});if(!s.ok)throw Error(`Export failed: ${s.statusText}`);return s.blob()}async bulkUpdateGroups(e,t){return this.fetchWithAuth("/api/groups/bulk",{method:"PUT",body:JSON.stringify({groupIds:e,updates:t})})}async bulkDeleteGroups(e){return this.fetchWithAuth("/api/groups/bulk",{method:"DELETE",body:JSON.stringify({groupIds:e})})}async getGroupTypes(){return[{value:"small_group",label:"Small Group",description:"Intimate fellowship and Bible study groups"},{value:"ministry",label:"Ministry Team",description:"Service-focused ministry groups"},{value:"youth",label:"Youth Group",description:"Teen and young adult groups"},{value:"seniors",label:"Seniors Group",description:"Groups for older adults"},{value:"womens",label:"Women's Group",description:"Women's fellowship and study groups"},{value:"mens",label:"Men's Group",description:"Men's fellowship and study groups"},{value:"children",label:"Children's Group",description:"Groups for children and families"},{value:"worship",label:"Worship Team",description:"Music and worship ministry teams"},{value:"service",label:"Service Team",description:"Community service and outreach teams"},{value:"bible_study",label:"Bible Study",description:"Scripture study and discussion groups"},{value:"prayer",label:"Prayer Group",description:"Prayer and intercession groups"},{value:"outreach",label:"Outreach Team",description:"Evangelism and community outreach"},{value:"other",label:"Other",description:"Custom group types"}]}constructor(){this.requestCache=new Map,this.pendingRequests=new Map,this.CACHE_DURATION=3e4,this.MAX_RETRIES=2}}let i=new s},8440:(e,t,r)=>{r.d(t,{H:()=>i});let a="https://faithlink360-api.onrender.com";class s{async fetchWithAuth(e,t={}){let r=localStorage.getItem("auth_token"),a=e.startsWith("http")?e:`http://localhost:8000${e}`,s=0;for(;s<=this.MAX_RETRIES;)try{let e=await fetch(a,{...t,headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...t.headers}});if(!e.ok){if(401===e.status){localStorage.removeItem("auth_token"),window.location.href="/login";return}let t=await e.json().catch(()=>({message:e.statusText}));throw Error(t.message||`HTTP ${e.status}: ${e.statusText}`)}return e.json()}catch(e){if(s<this.MAX_RETRIES&&e.message.includes("fetch")){s++,await new Promise(e=>setTimeout(e,1e3*s));continue}throw e}}getCacheKey(e,t={}){return`${e}-${JSON.stringify(t.body||{})}`}isValidCache(e){let t=this.requestCache.get(e);return!!t&&Date.now()-t.timestamp<this.CACHE_DURATION}async getMembers(e){let t=new URLSearchParams;e&&(e.query&&t.append("query",e.query),e.tags?.length&&t.append("tags",e.tags.join(",")),e.membershipStatus?.length&&t.append("status",e.membershipStatus.join(",")),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.limit&&t.append("limit",e.limit.toString()),e.offset&&t.append("offset",e.offset.toString()),e.ageRange&&(e.ageRange.min&&t.append("ageMin",e.ageRange.min.toString()),e.ageRange.max&&t.append("ageMax",e.ageRange.max.toString())),e.joinDateRange&&(e.joinDateRange.start&&t.append("joinStart",e.joinDateRange.start.toISOString()),e.joinDateRange.end&&t.append("joinEnd",e.joinDateRange.end.toISOString())),e.groups?.length&&t.append("groups",e.groups.join(",")));let r=`/api/members${t.toString()?`?${t.toString()}`:""}`,a=this.getCacheKey(r);if(this.isValidCache(a))return this.requestCache.get(a).data;if(this.pendingRequests.has(a))return this.pendingRequests.get(a);let s=this.fetchWithAuth(r).then(e=>(this.requestCache.set(a,{data:e,timestamp:Date.now()}),this.pendingRequests.delete(a),e)).catch(e=>{throw this.pendingRequests.delete(a),e});return this.pendingRequests.set(a,s),s}async getMember(e){return this.fetchWithAuth(`/api/members/${e}`)}async createMember(e){return this.fetchWithAuth("/api/members",{method:"POST",body:JSON.stringify(e)})}async updateMember(e){return this.fetchWithAuth(`/api/members/${e.id}`,{method:"PUT",body:JSON.stringify(e)})}async deleteMember(e){await this.fetchWithAuth(`/api/members/${e}`,{method:"DELETE"})}async getMemberStats(){return this.fetchWithAuth("/api/members/stats")}async getTags(){return this.fetchWithAuth("/api/members/tags")}async createTag(e){return this.fetchWithAuth("/api/members/tags",{method:"POST",body:JSON.stringify(e)})}async updateTag(e,t){return this.fetchWithAuth(`/api/members/tags/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteTag(e){await this.fetchWithAuth(`/api/members/tags/${e}`,{method:"DELETE"})}async uploadProfilePhoto(e,t){let r=localStorage.getItem("auth_token"),s=new FormData;s.append("photo",t);let i=await fetch(`${a}/api/members/${e}/photo`,{method:"POST",headers:{...r&&{Authorization:`Bearer ${r}`}},body:s});if(!i.ok)throw Error((await i.json().catch(()=>({message:i.statusText}))).message||`HTTP ${i.status}: ${i.statusText}`);return i.json()}async getSearchSuggestions(e){return this.fetchWithAuth(`/api/members/search/suggestions?q=${encodeURIComponent(e)}`)}async exportMembers(e){let t=new URLSearchParams;e&&(e.query&&t.append("query",e.query),e.tags?.length&&t.append("tags",e.tags.join(",")),e.membershipStatus?.length&&t.append("status",e.membershipStatus.join(",")));let r=localStorage.getItem("auth_token"),s=await fetch(`${a}/api/members/export${t.toString()?`?${t.toString()}`:""}`,{headers:{...r&&{Authorization:`Bearer ${r}`}}});if(!s.ok)throw Error(`Export failed: ${s.statusText}`);return s.blob()}async bulkUpdateMembers(e,t){return this.fetchWithAuth("/api/members/bulk",{method:"PUT",body:JSON.stringify({memberIds:e,updates:t})})}async bulkDeleteMembers(e){return this.fetchWithAuth("/api/members/bulk",{method:"DELETE",body:JSON.stringify({memberIds:e})})}constructor(){this.requestCache=new Map,this.pendingRequests=new Map,this.CACHE_DURATION=3e4,this.MAX_RETRIES=2}}let i=new s}};